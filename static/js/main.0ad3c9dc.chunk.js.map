{"version":3,"sources":["components/ButtonGroup.js","components/ButtonList.js","components/SubList.js","components/SortMenu.js","components/TopMenu.js","components/PostLink.js","components/LoadingSpinner.js","components/PostList.js","components/Comment.js","components/CommentList.js","functions/useful.js","components/Post.js","components/Header.js","components/SideMenu.js","App.js","serviceWorker.js","index.js"],"names":["ButtonGroup","styled","div","ButtonList","Button","button","SideButton","SubInput","input","Icon","checkIfSubbed","subs","currentSub","length","includes","SubList","currentSort","useState","setSubs","editMode","setEditMode","newSub","setNewSub","useEffect","storedSubs","localStorage","getItem","JSON","parse","onDeleteSub","sub","newSubArr","filter","subName","setItem","stringify","addSubToStorage","arr","to","className","onClick","map","key","type","placeholder","onChange","e","target","value","SortMenu","option","StyledTopMenu","MenuButton","props","selected","TopMenu","onClickSubs","onClickSort","showBackButton","onBackClick","sortMenuOpen","subMenuOpen","StyledPostLink","stickied","PostThumbnail","PostTextGroup","PostTitle","PostDetails","PostExpand","PostComments","PostBody","PostLink","post","expanded","setExpanded","undefined","dateString","formatDistanceStrict","Date","created","showThumbnail","test","thumbnail","body","replace","bodyContent","dangerouslySetInnerHTML","__html","bodyHasImage","url","match","src","alt","media","openBtn","style","width","id","title","subreddit","href","rel","domain","num_comments","marginLeft","permalink","LoadingSpinner","PostList","posts","margin","StyledComment","CommentClose","span","CommentAuthor","original","CommentFooter","Comment","comment","author","closed","setClosed","replies","comments","body_html","color","score","StyledCommentList","CommentList","parseComment","parseBodyText","data","children","text","getPostList","sort","setPosts","a","join","fetch","response","json","error","console","log","oembed","html","created_utc","selftext_html","getComments","setComments","setNoComments","setPostDetails","getDetails","ReactDOM","unstable_batchedUpdates","obj","StyledPost","parsePostBody","bodyTag","Post","noComments","textAlign","shortUrl","substr","ReloadButton","Header","heading","onReload","StyledSideMenu","SideMenu","Dropdown","right","Page","location","history","setSort","postDetails","setSortMenuOpen","setSubMenuOpen","isMobile","useMediaQuery","maxWidth","newSort","postId","parts","split","parseURL","pathname","subCheck","toLowerCase","find","window","scrollTo","MainPage","Fragment","path","render","exact","height","overflow","goBack","marginTop","display","App","component","Boolean","hostname","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.0ad3c9dc.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nconst ButtonGroup = styled.div`\n    display: flex;\n\n    & > a {\n        flex-grow: 1;\n    }\n`;\n\nexport default ButtonGroup;","import styled from 'styled-components';\n\nconst ButtonList = styled.div`\n    text-align: center;\n    position: relative;\n\n    & *:focus {\n        outline: none;\n    }\n\n    & * {\n        color: white;\n    }\n\n    & a {\n        display: block;\n        padding: 5px;\n        min-height: 29px;\n        border-top: 1px solid gray;\n    }\n\n    & a:hover {\n        background-color: gray;\n    }\n\n    & a.active, & > a.selected {\n        background-color: gray;\n    }\n\n    & > a:last-of-type {\n        border-bottom: 1px solid gray;\n    }\n\n    & > div:last-child > * {\n        border-bottom: 1px solid gray;\n    }\n\n    @media screen and (max-device-width: 600px){\n        & div:last-child > * {\n            border-bottom: none;\n        }   \n    }\n`;\n\nexport default ButtonList;","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\nimport { FaEdit, FaTrashAlt } from 'react-icons/fa';\n\nimport ButtonGroup from './ButtonGroup';\nimport ButtonList from './ButtonList';\n\nconst Button = styled.button`\n    background-color: black;\n    border: none;\n    text-align: center;\n    padding: 5px;\n    font-size: 1em;\n    width: 100%;\n    margin: 0px;\n    border-top: 1px solid gray;\n\n    &:hover {\n        cursor: pointer;\n        background-color: gray;\n    }\n`;\n\nconst SideButton = styled(Button)`\n    border-left: 1px solid gray;\n    min-width: 60px;\n    width: auto;\n`;\n\nconst SubInput = styled.input`\n    cursor: text;\n    padding: 5px 10px;\n    flex-grow: 1;\n    width: 100%;\n    margin: 0px;\n    background-color: black;\n    border: none;\n    font-size: 1em;\n    text-align: center;\n    border-top: 1px solid gray;\n    border-radius: 0px;\n`;\n\nconst Icon = styled.div`\n    padding: 5px;\n    font-size: 1.3em;\n    position: absolute;\n    right: 10px;\n    top: -5px;\n\n    :hover {\n        cursor: pointer;\n    }\n`;\n\nconst SubList = ({currentSub, currentSort}) => {\n    const [subs, setSubs] = useState([]);\n    const [editMode, setEditMode] = useState(false);\n    const [newSub, setNewSub] = useState('');\n\n    useEffect(() => {\n        let storedSubs = localStorage.getItem('subs');\n        storedSubs = storedSubs ? JSON.parse(storedSubs) : [];\n        if (storedSubs.length === 0) setEditMode(true);\n        setSubs(storedSubs);\n    }, []);\n\n    const onToggleEdit = () => {\n        setEditMode(!editMode);\n    }\n\n    const onChangeNewSub = (e) => {\n        setNewSub(e.target.value);\n    }\n\n    const onAddNewSub = () => {\n        if (newSub.length === 0) return;\n        addSubToStorage(subs, newSub);\n    }\n\n    const onDeleteSub = (sub) => () => {\n        let newSubArr = subs.filter(subName => subName !== sub);\n        setSubs(newSubArr);\n        localStorage.setItem('subs', JSON.stringify(newSubArr));\n    }\n\n    const addCurrentSub = () => {\n        addSubToStorage(subs, currentSub);\n    }\n\n    const addSubToStorage = (arr, sub) => {\n        let newSubArr = [...arr, sub];  \n        setSubs(newSubArr);\n        setNewSub('');\n        localStorage.setItem('subs', JSON.stringify(newSubArr));\n    }\n\n    return (\n        <ButtonList>\n            <h3>General</h3>\n            <NavLink to={`/My Subreddits/${currentSort}`} className={'My Subreddits' === currentSub ? 'selected' : ''}>My Subreddits</NavLink>\n            <NavLink to={`/Popular/${currentSort}`} className={'Popular' === currentSub ? 'selected' : ''}>Popular</NavLink>\n            <NavLink to={`/All/${currentSort}`} className={'All' === currentSub ? 'selected' : ''}>All</NavLink>\n            <h3>Subs</h3>\n            <Icon onClick={onToggleEdit}><FaEdit/></Icon>\n            {\n                subs.map(sub => {\n                    return (\n                        <ButtonGroup key={'sub-'+sub}>\n                            <NavLink to={`/${sub}/${currentSort}`} className={sub === currentSub ? 'selected' : ''}>{sub}</NavLink>\n                            { editMode ? <SideButton className=\"subBtn\" onClick={onDeleteSub(sub)}><FaTrashAlt/></SideButton> : null }\n                        </ButtonGroup>\n                    )\n                })\n            }\n            {\n                editMode ? (\n                    <ButtonGroup>\n                        <SubInput className=\"newSubInput\" type=\"text\" placeholder=\"New Sub\" onChange={onChangeNewSub} value={newSub}/>\n                        <SideButton className=\"subBtn\" onClick={onAddNewSub}>Add</SideButton>\n                    </ButtonGroup>\n                ) : null\n            }\n            {\n                !checkIfSubbed(subs, currentSub) ? <ButtonGroup><Button onClick={addCurrentSub}>Add Current Sub</Button></ButtonGroup> : null\n            }\n        </ButtonList>\n    );\n}\n\nconst checkIfSubbed = (subs, currentSub) => {\n    if (currentSub.length === 0) return true;\n    if (currentSub === 'Popular') return true;\n    if (currentSub === 'All') return true;\n    if (currentSub === 'My Subreddits') return true;\n    if (subs.includes(currentSub)) return true;\n    return false;\n}\n\nexport default SubList;","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport ButtonGroup from './ButtonGroup';\nimport ButtonList from './ButtonList';\n\nconst SortMenu = ({currentSub, currentSort}) => {\n    let sortOptions = ['hot', 'new', 'rising', 'controversial', 'top'];\n\n    return (\n        <ButtonList>\n            <h3>Sort</h3>\n            {\n                sortOptions.map(option => {\n                    return (\n                        <ButtonGroup key={'sort-'+option}>\n                            <NavLink to={`/${currentSub}/${option}`} className={option === currentSort ? 'selected' : ''}>{option}</NavLink>\n                        </ButtonGroup>\n                    );\n                })\n            }\n        </ButtonList>\n    );\n}\n\nexport default SortMenu;","import React from 'react';\nimport styled from 'styled-components';\n\nconst StyledTopMenu = styled.div`\n    border-bottom: 1px solid red;\n    position: fixed;\n    width: 100%;\n    background-color: black;\n    z-index: 6;\n\n    & > div:last-child {\n        float: right;\n        border-right: none;\n        border-left: 1px solid gray;\n    }\n`;\n\nconst MenuButton = styled.div`\n    display: inline-block;\n    padding: 8px;\n    border-right: 1px solid gray;\n    min-width: 50px;\n    text-align: center;\n    background-color: ${props => props.selected ? 'gray' : 'none'};\n`;\n\nconst TopMenu = ({onClickSubs, onClickSort, showBackButton, onBackClick, sortMenuOpen, subMenuOpen}) => {\n    return (\n        <StyledTopMenu>\n            <MenuButton onClick={onClickSubs} selected={subMenuOpen}>Subs</MenuButton>\n            { showBackButton ? <MenuButton onClick={onBackClick}>Back</MenuButton> : null }\n            <MenuButton onClick={onClickSort} selected={sortMenuOpen}>Sort</MenuButton>\n        </StyledTopMenu>\n    );\n};\n\nexport default TopMenu;","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\nimport { FaRegComment, FaPlus, FaMinus } from 'react-icons/fa';\nimport { formatDistanceStrict } from 'date-fns';\n\nconst StyledPostLink = styled.div`\n    border: 1px solid ${props => props.stickied ? '#50ec11' : 'red'};\n    padding: 0px 0px 0px 10px;\n    margin: 5px auto;\n    width: 95%;\n    max-width: 1200px;\n    display: flex;\n    position: relative;\n`;\n\nconst PostThumbnail = styled.div`\n    min-width: 70px;\n    max-width: 70px;\n    max-height: 70px;\n    overflow: hidden;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-right: 10px;\n    margin-bottom: 10px;\n    margin-top: 10px;\n\n    & > img {\n        height: 70px;\n        width: auto;\n        margin: auto;\n    }\n`;\n\nconst PostTextGroup = styled.div`\n    display: flex;\n    flex-direction: column; \n    height: 100%;\n    align-content: center;\n\n    & > div {\n        margin-top: auto;\n        margin-bottom: auto;\n    }\n`;\n\nconst PostTitle = styled.div`\n    margin-top: 10px;\n    padding-right: 5px;\n\n    :hover {\n        cursor: pointer;\n    }\n\n    @media screen and (max-device-width: 600px){\n        font-size: 0.9em;\n    }\n`;\n\nconst PostDetails = styled.div`\n    font-size: 0.9em;\n    color: gray;\n    margin-top: 5px;\n    margin-bottom: 5px;\n\n    & a {\n        color: gray;\n    }\n`;\n\nconst PostExpand = styled.div`\n    display: inline-flex;\n    position: relative;\n    float: right;\n    border-bottom: 1px solid ${props => props.stickied ? '#50ec11' : 'red'};\n    border-left: 1px solid ${props => props.stickied ? '#50ec11' : 'red'};\n    color: gray;\n    width: 32px;\n    height: 32px;\n\n    & > svg {\n        margin: auto;\n    }\n\n    &:hover {\n        cursor: pointer;\n        color: white;\n    }\n`;\n\nconst PostComments = styled.div`\n    font-size: 0.9em;\n    display: inline-block;\n    margin-bottom: 10px;\n\n    & > svg {\n        position: relative;\n        top: 2px;\n        margin-left: 2px;\n    }\n`;\n\nconst PostBody = styled.div`\n    padding: 5px;\n\n    & img {\n        max-width: 95%;\n        max-height: 900px;\n    }\n\n    & iframe {\n        max-width: 100%;\n        margin: auto;\n        display: block;\n    }\n`;\n\nconst PostLink = ({post, sub}) => {\n    const [expanded, setExpanded] = useState(false);\n\n    if (post === undefined) return <span></span>;\n\n    //get relative time string\n    let dateString = formatDistanceStrict(new Date(), post.created*1000);\n\n    //set whether to show a thumbnail or not\n    let showThumbnail = false;\n    if (/(.jpg|.png|.bmp|.jpeg)/.test(post.thumbnail) === true) showThumbnail = true;\n\n    //make sure any links within the body open in a new tab\n    post.body = post.body.replace(/<a/g, '<a target=\"_blank\" rel=\"noopener noreferrer\"');\n\n    //decide whether to show image preview in body\n    let bodyContent = <PostBody dangerouslySetInnerHTML={{__html: post.body}}></PostBody>;\n    let bodyHasImage = false;\n    if (post.url.match(/.jpg$/)){\n        bodyContent = (<PostBody><img src={post.url} alt=\"Preview user linked to\" /></PostBody>);\n        bodyHasImage = true;\n    }\n\n    //decide whether to show embeded media\n    if (post.media.length > 0){\n        if (post.body.length > 0) post.media += \"<br/>\"+post.body;\n        bodyContent = <PostBody dangerouslySetInnerHTML={{__html: post.media}}></PostBody>;\n        bodyHasImage = true;\n    }\n\n    //decide whether to show an open button for post body\n    let openBtn = true;\n    if (post.body.length === 0 && bodyHasImage === false) openBtn = false;\n    \n    //check if sticked and add another class\n    let stickied = post.stickied ? true : false;\n\n    const onToggleExpand = () => {\n        setExpanded(!expanded);\n    }\n\n    return (\n        <StyledPostLink stickied={stickied}>\n            { showThumbnail ? <PostThumbnail><img src={post.thumbnail} alt=\"Thumbnail\"/></PostThumbnail> : null }\n            <div style={{width: '100%'}}>\n                { openBtn ? <PostExpand onClick={onToggleExpand} stickied={stickied}>{ expanded ? <FaMinus/> : <FaPlus/> }</PostExpand> : null }\n                <PostTextGroup>\n                    <div>\n                        <PostTitle><NavLink to={`/${sub}/comments/${post.id}`}>{post.title}</NavLink></PostTitle>\n                        <PostDetails>\n                            <span>{post.subreddit}</span> - <span><a href={post.url} target=\"_blank\" rel='noreferrer noopener'>{post.domain}</a></span> - <span>{dateString}</span>\n                        </PostDetails>\n                        { expanded ? bodyContent : null }\n                        <div>\n                            <PostComments>{post.num_comments} <FaRegComment/></PostComments>\n                            <span style={{marginLeft: '15px'}}><a href={`https://www.reddit.com/${post.permalink}`} target=\"_blank\" rel=\"noreferrer noopener\">Open on Reddit</a></span>\n                        </div>\n                    </div>\n                </PostTextGroup>\n            </div>\n        </StyledPostLink>\n    );\n}\n\nexport default PostLink;","import styled from 'styled-components';\n\nconst LoadingSpinner = styled.div`\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    border: 3px solid red;\n    border-top: 0px;\n    border-bottom: 0px;\n    margin: auto;\n    margin-top:40px;\n    position: relative;\n    animation-name: rotate;\n    animation-duration: 1s;\n    animation-iteration-count: infinite;\n    animation-timing-function: linear;\n\n    &:after {\n        content:'';\n        display: block;\n        position: absolute;\n        top: 2px;\n        left: 2px;\n        width: 40px;\n        height: 40px;\n        border-radius: 50%;\n        border: 3px solid red;\n        border-left: 0px;\n        border-right: 0px;\n        margin: auto;\n        animation-name: rotate;\n        animation-duration: 0.5s;\n        animation-iteration-count: infinite;\n        animation-timing-function: linear;\n        animation-direction: reverse;\n    }\n\n    &:before {\n        content:'';\n        display: block;\n        position: absolute;\n        top: 10px;\n        left: 4px;\n        width: 30px;\n        height: 30px;\n        border-radius: 50%;\n        border: 3px solid red;\n        border-top: 0px;\n        border-bottom: 0px;\n        margin: auto;\n        animation-name: rotate;\n        animation-duration: 1s;\n        animation-iteration-count: infinite;\n        animation-timing-function: linear;\n    }\n\n    @keyframes rotate {\n        from {\n            transform: rotate(0deg);\n        }\n        \n        to {\n            transform: rotate(360deg);\n        }\n    }\n`;\n\nexport default LoadingSpinner;","import React from 'react';\n\nimport PostLink from './PostLink';\nimport LoadingSpinner from './LoadingSpinner';\n\nconst PostList = ({posts, sub}) => {\n    if (posts.length === 0) return <div><LoadingSpinner/></div>;    \n\n    return (\n        <div style={{margin: 'auto'}}>\n            {\n                posts.map(post => {\n                    return <PostLink key={post.id} post={post} sub={sub}/>\n                })\n            }\n        </div>\n    );\n}\n\nexport default PostList;","import React, { useState } from 'react';\nimport styled from 'styled-components';\n\nimport Comments from './CommentList';\n\nconst StyledComment = styled.div`\n    padding: 5px;\n    padding-bottom: 0px;\n    border-left: 1px solid red;\n    border-top: 1px solid red;\n    margin-bottom: 0px;\n\n    & a {\n        color: rgb(0, 225, 255);\n    }\n`;\n\nconst CommentClose = styled.span`\n    :hover {\n        cursor: pointer;\n    }\n`;\n\nconst CommentAuthor = styled.span`\n    ${props => props.original ? `\n        color: #059afe; \n        font-weight: bold;\n    ` : ''};\n`;\n\nconst CommentFooter = styled.div`\n    font-size: 0.8em;\n    margin-bottom: 5px;\n    \n    & > a {\n        color: gray;\n    }\n`;\n\nconst Comment = ({comment, author}) => {  \n    const [closed, setClosed] = useState(false);\n\n    //if there are any replies to this comment, create a new Comments object (will work recursively)\n    let replies = \"\";\n    if (comment.replies.length > 0){\n        replies = <Comments comments={comment.replies} author={author}/>;\n    }\n\n    //make sure any links within the body open in a new tab\n    comment.body_html = comment.body_html.replace(/<a/g, '<a target=\"_blank\" rel=\"noopener noreferrer\"');\n    \n    //make sure links to reddit are adjusted\n    comment.body_html = comment.body_html.replace(/href=\"\\/u/, 'href=\"https://www.reddit.com/$1');\n\n    const toggleClosed = () => {\n        setClosed(!closed);\n    }\n\n    return (\n        <StyledComment>\n            <CommentClose onClick={toggleClosed}>{ closed ? '[ + ] ' : '[ - ] ' }</CommentClose>\n            <CommentAuthor original={comment.author === author}>{comment.author}</CommentAuthor>\n            <span style={{color: 'gray'}}> | {comment.score}</span>\n            { closed ? null : <div dangerouslySetInnerHTML={{ __html: comment.body_html }}></div> }\n            { closed ? null : <CommentFooter><a href={`https://www.reddit.com/${comment.permalink}`} target=\"_blank\" rel=\"noreferrer noopener\">Permalink</a></CommentFooter> }\n            { closed ? null : replies }\n        </StyledComment>\n    );\n}\n\nexport default Comment;","import React from 'react';\nimport styled from 'styled-components';\n\nimport Comment from './Comment';\n\nconst StyledCommentList = styled.div`\n    margin-top: 10px;\n\n    & > div {\n        margin-bottom: 5px;\n    }\n`;\n\nconst CommentList = ({comments, author}) => {\n    if (comments.length === 0) return null;\n\n    return (\n        <StyledCommentList>\n            {\n                comments.map(comment => {\n                    return <Comment key={comment.id} comment={comment} author={author}/>\n                })\n            }\n        </StyledCommentList>\n    );\n}\n\nexport default CommentList;","import ReactDOM from 'react-dom';\n\nconst parseComment = (comment) => {\n    let {body_html, id, author, permalink, replies, score} = comment;\n    body_html = parseBodyText(body_html);\n    \n    replies = typeof replies === 'object' ? replies.data.children : [];\n    \n    replies = replies.map(comment => {\n        //console.log(comment);\n        return parseComment(comment.data);\n    });\n    \n    return {body_html, id, author, permalink, replies, score};\n}\n\nconst parseBodyText = (text) => {\n    text ? text = text\n                    .replace(/&lt;/g,'<')\n                    .replace(/&gt;/g,'>')\n                    .replace(/&amp;#39;/g,\"'\")\n                    .replace(/&amp;quot;/g,'\"')\n                    .replace(/&amp;/g,\"&\")\n                    .replace(/&#x200B;/g,' ')\n                        : text = '';\n    return text;\n}\n\nconst parseURL = (url) => {\n    let parts = url.split('/');\n    let sub, newSort, postId;\n\n    if (parts.length > 0) {\n        parts[1] !== undefined ? sub = parts[1] : sub = '';\n        parts[2] === 'comments' ? postId = parts[3] : postId = '';\n        parts[2] !== 'comments' ? newSort = parts[2] : newSort = '';\n    }\n\n    return {sub, newSort, postId};\n}\n\nconst getPostList = async (sub, sort, setPosts) => {\n    if (sub.length > 0) sub = 'r/'+sub;\n    setPosts([]);\n\n    if (sub === 'r/My Subreddits') {        \n        let storedSubs = localStorage.getItem('subs');\n        storedSubs = storedSubs ? JSON.parse(storedSubs) : [];\n        sub = 'r/'+storedSubs.join('+');\n    }\n    \n    try {\n        let url = `https://www.reddit.com/${sub}/${sort}/.json`;\n        if (sub.length === 0) url = 'https://www.reddit.com/.json';\n\n        let response = await fetch(url);\n        let data = await response.json();\n\n        if (data.error){\n            console.log('Getting Post List - Error: ', data.error);\n        } else {\n            if (data && data.data && data.data.children){\n                let posts = data.data.children.map(post => {\n                    const data = post.data;\n\n                    let media = data.media;\n                    if (media && media.oembed){\n                        media = parseBodyText(media.oembed.html);\n                    } else {\n                        media = '';\n                    }\n                    \n                    return {\n                        created: data.created_utc,\n                        author: data.author,\n                        domain: data.domain,\n                        title: parseBodyText(data.title),\n                        id: data.id,\n                        body: parseBodyText(data.selftext_html),\n                        num_comments: data.num_comments,\n                        score: data.score,\n                        subreddit: data.subreddit,\n                        stickied: data.stickied,\n                        url: data.url,\n                        thumbnail: data.thumbnail, //if no thumbnail - \"self\"\n                        permalink: data.permalink,\n                        media: media\n                    };\n                });\n                                \n                setPosts(posts);\n            }\n        }\n    } catch (error) {\n        console.log('Getting Post List - URL Error: ', error);\n        setPosts([]);\n    }\n};\n\nconst getComments = async (url, setComments, setNoComments, setPostDetails, getDetails) => {    \n    ReactDOM.unstable_batchedUpdates(() => {\n        setComments([]);\n        setNoComments(false);\n    });\n    try {        \n        let response = await fetch('https://www.reddit.com/r/'+url+'.json?sort=new');\n        let data = await response.json();\n        \n        if (data.error){\n            console.log('Getting Comments - Error: ', data.error);\n        } else {\n            let {title, selftext_html, id, url, media, author, created_utc, permalink} = data[0].data.children[0].data;\n\n            let comments = data[1].data.children.map(obj => {\n                return parseComment(obj.data);\n            });\n\n            ReactDOM.unstable_batchedUpdates(() => {\n                if (getDetails) setPostDetails({id, url, title, author, created:created_utc, body: parseBodyText(selftext_html), media, permalink});\n                setComments(comments);\n                if (comments.length === 0) setNoComments(true);\n            });\n        }\n    } catch (error) {\n        console.log('Getting Comments - URL Error: ', error);\n    }\n};\n\nexport {\n    parseComment, \n    parseBodyText,\n    parseURL,\n    getPostList,\n    getComments\n}","import React from 'react';\nimport styled from 'styled-components';\nimport { formatDistanceStrict } from 'date-fns';\n\nimport CommentList from './CommentList';\nimport LoadingSpinner from './LoadingSpinner';\n\nimport { parseBodyText } from '../functions/useful';\n\nconst StyledPost = styled.div`\n    background-color: black;\n    padding: 20px;\n    width: 100%;\n    max-width: 1200px;\n    margin: auto;\n\n    & h1 {\n        text-align: left;\n        margin-bottom: 10px;\n    }\n`;\n\nconst PostDetails = styled.div`\n    color: gray;\n    text-align: left;\n    margin-bottom: 5px;\n\n    & a {\n        color: gray;\n    }\n`;\n\nconst PostBody = styled.div`\n    border-bottom: 1px solid gray;\n    margin-bottom: 5px;\n    padding-bottom: 10px;\n\n    & > img {\n        max-width: 100%;\n        margin-top: 10px;\n    }\n    \n    & iframe {\n        max-width: 100%;\n        margin: auto;\n        display: block;\n    }\n\n    & a {\n     color: rgb(0, 225, 255);\n    }\n\n    & h1 {\n        font-size: 1.2em;\n    }\n\n    & h2 {\n        font-size: 1.1em;\n    }\n\n    & h3 {\n        font-size: 1em;\n    }\n`;\n\nconst Post = ({post, comments, noComments}) => {\n    if (post.body === undefined) {\n        return <div style={{textAlign: 'center'}}><LoadingSpinner/></div>;\n    }\n\n    let {url, title, author, created, body, media, permalink} = post;  \n\n    //get parsed body tag\n    let bodyTag = parsePostBody(body, url, media);  \n\n    //get relative time string\n    let dateString = formatDistanceStrict(new Date(), created*1000);\n\n    //if URL is too long, make shorter\n    let shortUrl = url || '';\n    if (shortUrl.length > 40) shortUrl = shortUrl.substr(0,40) + '...';\n\n    return (\n        <StyledPost>\n            <div>\n                <h2 dangerouslySetInnerHTML={{ __html: title}}></h2>\n                <PostDetails>{author} | {dateString} | <a href={url} target=\"_blank\" rel=\"noopener noreferrer\">Go to URL ({shortUrl})</a></PostDetails>\n                <PostDetails><a href={`https://www.reddit.com/${permalink}`} target=\"_blank\" rel=\"noopener noreferrer\">Open on Reddit</a></PostDetails>\n                { bodyTag }\n            </div>\n            { comments.length === 0 && noComments === false ? <LoadingSpinner/> : null }\n            { noComments ? <div>No Comments</div> : null }\n            <CommentList comments={comments} author={author}/>\n        </StyledPost>\n    );\n}\n\nconst parsePostBody = (body, url, media) => {\n    //make sure any links within the body open in a new tab\n    body = body.replace(/<a/g, '<a target=\"_blank\" rel=\"noopener noreferrer\"');\n    \n    //make sure links to reddit users are adjusted\n    body = body.replace(/href=\"\\/u/g, 'href=\"https://www.reddit.com/$1');\n    \n    //but links to other reddit subs can be kept on this website\n    body = body.replace(/target=\"_blank\" rel=\"noopener noreferrer\" href=\"\\/r/g, 'href=\"#');    \n    \n    //check for image link to url and replace body with image if so\n    let bodyTag = <PostBody dangerouslySetInnerHTML={{ __html: body }} className=\"postDivBody\"></PostBody>;\n    if (/.(png|jpg|jpeg|bmp)$/.test(url)){\n        bodyTag = <PostBody><img src={url} alt=\"Preview of content\"/></PostBody>;\n    }\n\n    //check for media embed and replace body with this\n    if (media && media.oembed){\n        media = parseBodyText(media.oembed.html);\n        if (body.length > 0) media += '<br/>'+body;\n        bodyTag = <PostBody dangerouslySetInnerHTML={{ __html: media }} className=\"postDivBody\"></PostBody>;\n    } else {\n        media = '';\n    }\n\n    return bodyTag;\n}\n\nexport default Post;","import React from 'react';\nimport styled from 'styled-components';\n\nconst ReloadButton = styled.span`\n    color: gray;\n\n    :hover {\n        cursor: pointer;\n        color: white;\n    }\n`;\n\nconst Header = ({heading, onReload}) => {\n    return (\n        <h1 style={{textAlign: 'center'}}>{heading} &nbsp;<ReloadButton onClick={onReload}>&#8635;</ReloadButton></h1>\n    );\n};\n\nexport default Header;","import React from 'react';\nimport styled from 'styled-components';\n\nimport SortMenu from './SortMenu';\nimport SubList from './SubList';\n\nconst StyledSideMenu = styled.div`\n    width: 250px;\n    border-right: 1px solid red;\n    height: 100%;\n    position: fixed;\n    overflow: scroll;\n`;\n\nconst SideMenu = ({currentSub, currentSort}) => {\n    return (\n        <StyledSideMenu>\n            <SortMenu currentSub={currentSub} currentSort={currentSort}/>\n            <SubList currentSub={currentSub} currentSort={currentSort}/>\n        </StyledSideMenu>\n    );\n}\n\nexport default SideMenu;","import React, { useState, useEffect } from \"react\";\nimport styled from 'styled-components';\nimport { HashRouter as Router, Route } from \"react-router-dom\";\nimport { useMediaQuery } from 'react-responsive';\n\nimport SubList from './components/SubList';\nimport SortMenu from './components/SortMenu';\nimport TopMenu from './components/TopMenu';\nimport PostList from './components/PostList';\nimport Post from './components/Post';\nimport Header from './components/Header';\nimport SideMenu from './components/SideMenu';\n\nimport { getPostList, getComments, parseURL } from './functions/useful';\n\nconst Dropdown = styled.div`\n    position: fixed;\n    width: 250px;\n    background-color: black;\n    z-index: 5;\n    top: 37px;\n    border-right: 1px solid red;\n    border-bottom: 1px solid red;\n    ${ props => props.right \n            ? 'right: 0px; border-left: 1px solid red; border-right: none;' \n            : '' };\n`;\n\nconst Page = ({location, history}) => {\n    const [sort, setSort] = useState('hot');\n    const [posts, setPosts] = useState([]);\n    const [comments, setComments] = useState([]);\n    const [noComments, setNoComments] = useState(false);\n    const [postDetails, setPostDetails] = useState({});\n    const [sortMenuOpen, setSortMenuOpen] = useState(false);\n    const [subMenuOpen, setSubMenuOpen] = useState(false);\n\n    const isMobile = useMediaQuery({ maxWidth: 600 });\n\n    let {sub, newSort, postId} = parseURL(location.pathname);  \n\n    let subCheck = sub.toLowerCase();\n\n    useEffect(() => {        \n        setSubMenuOpen(false);\n        setSortMenuOpen(false);\n        getPostList(sub, sort, setPosts);\n    }, [subCheck, sort]);\n\n    useEffect(() => {\n        if (postId.length > 0 ) {\n            let post = undefined;\n            if (postId.length > 0) post = posts.find(post => post.id === postId);\n            if (post === undefined) setPostDetails({});\n            else setPostDetails(post);\n            getComments(`${sub}/comments/${postId}/`, setComments, setNoComments, setPostDetails, true);\n            window.scrollTo(0,0);        \n        }\n    }, [postId]);\n\n    if (newSort !== undefined && newSort.length > 0 && newSort !== sort) {\n        setSort(newSort);\n        return (<div></div>);\n    }\n\n    const onReload = () => {\n        setPosts([]);\n        getPostList(sub, sort, setPosts);\n    }\n\n    const onToggleSortMenu = () => {\n        if (!sortMenuOpen) setSubMenuOpen(false);\n        setSortMenuOpen(!sortMenuOpen);\n    }\n\n    const onToggleSubsMenu = () => {\n        if (!subMenuOpen) setSortMenuOpen(false);\n        setSubMenuOpen(!subMenuOpen);        \n    }    \n\n    const onBackClick = () => {\n        history.goBack();\n    }    \n\n    const MainPage = () => {\n        return (\n            <React.Fragment>\n                <Route path={'/'} render={props => <Header {...props} heading={sub} onReload={onReload}/>} />\n                <Route exact path={'/:sub'} render={props => <PostList {...props} posts={posts} sub={sub}/>} />\n                <Route exact path={'/:sub/:sort'} render={props => <PostList {...props} posts={posts} sub={sub}/>} />\n                <Route exact path={'/:sub/comments/:id'} render={props => <Post {...props} post={postDetails} comments={comments} noComments={noComments}/>} />\n            </React.Fragment>\n        );\n    }\n\n    if (isMobile) {\n        return (\n            <div style={{height: '100%', overflow: 'hidden'}}>\n                <TopMenu onClickSubs={onToggleSubsMenu} onClickSort={onToggleSortMenu} showBackButton={postId.length > 0 ? true : false} onBackClick={onBackClick} sortMenuOpen={sortMenuOpen} subMenuOpen={subMenuOpen}/>\n                { subMenuOpen ? <Dropdown><SubList currentSub={sub} currentSort={sort}/></Dropdown> : null }\n                { sortMenuOpen ? <Dropdown right={true}><SortMenu currentSub={sub} currentSort={sort}/></Dropdown> : null }\n                <div style={{marginTop: '50px'}}></div>\n                { <MainPage/> }\n            </div>\n        );\n    } else {\n        return (\n            <div style={{display: 'flex', height: '100%'}}>\n                <div>\n                    <Route path={'/'} render={props => <SideMenu {...props} currentSub={sub} currentSort={sort}/>} />\n                </div>\n                <div style={{width: 'calc(100% - 250px)', height: '100%', overflow: 'scroll', marginLeft: '250px'}}>\n                    { <MainPage/> }\n                </div>\n            </div>\n        );\n    }\n}\n\nconst App = () => {\n    return (\n        <Router>\n            <Route path=\"/\" component={Page}/>\n        </Router>\n    );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}