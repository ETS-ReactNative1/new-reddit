(this["webpackJsonpnew-reddit"]=this["webpackJsonpnew-reddit"]||[]).push([[0],{41:function(e,n,t){e.exports=t(54)},46:function(e,n,t){},54:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),c=t(21),o=t.n(c),i=(t(46),t(8)),l=t(17),u=t(7),s=t(15),d=t(2),m=t(3),p=t(4),b=t(13),f=t(9),h=t(39);function g(){var e=Object(m.a)(["\n    display: flex;\n\n    & > div {\n        flex-grow: 1;\n    }\n\n    & > a {\n        flex-grow: 1;\n    }\n\n    & > a.selected, & > button.selected {\n        background-color: gray;\n    }\n\n    & > label {\n        border-left: 1px solid gray;\n    }\n\n    & > *:last-child {\n        border-left: 1px solid gray;\n    }\n\n    & > *:first-child {\n        border-left: none;\n    }\n"]);return g=function(){return e},e}var v=p.a.div(g());function E(){var e=Object(m.a)(["\n    text-align: center;\n    position: relative;\n\n    & *:focus {\n        outline: none;\n    }\n\n    & * {\n        color: white;\n    }\n\n    & a, & label {\n        width: 100%;\n        display: block;\n        padding: 5px;\n        min-height: 29px;\n        border-top: 1px solid gray;\n    }\n\n    & a:hover {\n        background-color: gray;\n    }\n\n    & a.active, & > a.selected {\n        background-color: gray;\n    }\n\n    & > a:last-of-type, & > button:last-of-type {\n        border-bottom: 1px solid gray;\n    }\n\n    & > div:last-child > * {\n        border-bottom: 1px solid gray;\n    }\n\n    @media screen and (max-device-width: 600px){\n        & div:last-child > * {\n            border-bottom: none;\n        }   \n\n        & a:hover {\n            background-color: black;\n        }\n    }\n"]);return E=function(){return e},e}var S=p.a.div(E());function O(){var e=Object(m.a)(['\n    cursor: text;\n    padding: 5px 10px;\n    flex-grow: 1;\n    width: 100%;\n    margin: 0px;\n    background-color: black;\n    border: none;\n    font-size: 1em;\n    text-align: center;\n    border-top: 1px solid gray;\n    border-radius: 0px;\n\n    &[type="checkbox"] {\n        -webkit-appearance:none;\n        appearance: none;\n        width:30px;\n        height:30px;\n        background:white;\n        border-radius:0px;\n        border:1px solid gray;\n        border-right: none;\n        border-left: none;\n\n        :checked {\n            background-color: green;\n        }\n\n        :hover {\n            cursor: pointer;\n        }\n    }\n']);return O=function(){return e},e}var x=p.a.input(O());function y(){var e=Object(m.a)(["\n    background-color: black;\n    border: none;\n    text-align: center;\n    padding: 5px;\n    font-size: 1em;\n    width: 100%;\n    margin: 0px;\n    border-top: 1px solid gray;\n    color: white;\n\n    ",";\n    ",";\n\n    &:hover {\n        cursor: pointer;\n        background-color: gray;\n        ",";\n    }\n\n    :focus {\n        outline: none;\n    }\n\n    @media screen and (max-device-width: 600px){\n        &:hover {\n            background-color: black;\n        } \n    }\n"]);return y=function(){return e},e}var j=p.a.button(y(),(function(e){return e.selected?"background-color: gray;":""}),(function(e){return e.disabled?"color: gray":""}),(function(e){return e.disabled?"background-color: black; cursor: default":""}));function k(){var e=Object(m.a)(["\n    border-left: 1px solid gray;\n    min-width: 60px;\n    width: auto;\n"]);return k=function(){return e},e}var _=Object(p.a)(j)(k());function w(){var e=Object(m.a)(["\n    padding: 5px;\n    font-size: 1.3em;\n    position: absolute;\n    right: 10px;\n    top: -5px;\n\n    :hover {\n        cursor: pointer;\n    }\n"]);return w=function(){return e},e}var C=p.a.div(w()),T=function(e){var n=e.sub,t=e.currentSub,r=e.currentSort,c=e.onDeleteSub,o=e.editMode;return a.a.createElement(v,{key:"sub-"+n.id},a.a.createElement(i.b,{to:"/".concat(n.id,"/").concat(r),className:n.id===t?"selected":"",style:{textTransform:"capitalize"}},n.id),o?a.a.createElement(_,{className:"subBtn",onClick:c(n.id)},a.a.createElement(f.f,null)):null)},M=function(e,n){return"user"===n||(0===n.length||("Popular"===n||("All"===n||("My Subreddits"===n||!!e.includes(n)))))},N=function(){var e=Object(d.c)(),n=Object(d.d)((function(e){return e.currentSub})),t=Object(d.d)((function(e){return e.currentSort})),c=Object(d.d)((function(e){return e.subs})),o=function(n){return e({type:"SET_SUBS",payload:n})},l=Object(r.useState)(!1),s=Object(u.a)(l,2),m=s[0],p=s[1],g=Object(r.useState)(""),E=Object(u.a)(g,2),O=E[0],y=E[1];Object(r.useEffect)((function(){var e=localStorage.getItem("subs");0===(e=e?JSON.parse(e):[]).length&&p(!0),o(e)}),[]);var k=function(e){return function(){var n=c.filter((function(n){return n!==e}));o(n),localStorage.setItem("subs",JSON.stringify(n))}},w=function(e,n){var t=[].concat(Object(b.a)(e),[n]);o(t),y(""),localStorage.setItem("subs",JSON.stringify(t))};"user"===n&&(t="hot");var N=c.map((function(e){return{id:e}}));return a.a.createElement(S,null,a.a.createElement("h3",null,"General"),a.a.createElement(i.b,{to:"/My Subreddits/".concat(t),className:"My Subreddits"===n?"selected":""},"My Subreddits"),a.a.createElement(i.b,{to:"/Popular/".concat(t),className:"Popular"===n?"selected":""},"Popular"),a.a.createElement(i.b,{to:"/All/".concat(t),className:"All"===n?"selected":""},"All"),a.a.createElement("h3",null,"Subs"),a.a.createElement(C,{onClick:function(){p(!m)}},a.a.createElement(f.c,null)),m?a.a.createElement(h.a,{list:N,setList:function(e){if(0!==e.length){var n=e.map((function(e){return e.id}));o(n),localStorage.setItem("subs",JSON.stringify(n))}}},N.map((function(e){return a.a.createElement(T,{sub:e,currentSub:n,currentSort:t,onDeleteSub:k,editMode:m})}))):N.map((function(e){return a.a.createElement(T,{sub:e,currentSub:n,currentSort:t,onDeleteSub:k,editMode:m})})),m?a.a.createElement(v,null,a.a.createElement(x,{type:"text",placeholder:"New Sub",onChange:function(e){y(e.target.value)},value:O}),a.a.createElement(_,{onClick:function(){0!==O.length&&w(c,O)}},"Add")):null,M(c,n)?null:a.a.createElement(j,{onClick:function(){w(c,n)}},"Add Current Sub"))},R=function(){var e=Object(d.d)((function(e){return e.currentSub})),n=Object(d.d)((function(e){return e.currentSort}));return a.a.createElement(S,null,a.a.createElement("h3",null,"Sort Posts"),["hot","new","rising","controversial","top"].map((function(t){return a.a.createElement(v,{key:"sort-"+t},a.a.createElement(i.b,{to:"/".concat(e,"/").concat(t),className:t===n?"selected":"",style:{textTransform:"capitalize"}},t))})))},P=function(){var e=Object(d.c)(),n=Object(d.d)((function(e){return e.currentSort})),t=Object(d.d)((function(e){return e.currentSub})),r=Object(d.d)((function(e){return e.currentUserSort})),c=function(n){return function(){e({type:"CLOSE_MENUS"})}};return a.a.createElement(S,null,a.a.createElement("h3",null,"Show"),[{display:"Overview",value:"overview"},{display:"Comments",value:"comments"},{display:"Posts",value:"submitted"}].map((function(e){return a.a.createElement(v,{key:"commentSort-"+e.value},a.a.createElement(i.b,{exact:!0,to:"/".concat(t,"/").concat(n,"/").concat(e.value),className:e.value===r?"selected":"",onClick:c(e.value)},e.display))})))},U=function(){var e=Object(d.c)(),n=Object(d.d)((function(e){return e.commentSort})),t=function(n){return function(){e({type:"CLOSE_MENUS"}),function(n){e({type:"SET_COMMENT_SORT",payload:n})}(n)}};return a.a.createElement(S,null,a.a.createElement("h3",null,"Sort Comments"),[{display:"Best",value:"confidence"},{display:"New",value:"new"},{display:"Top",value:"top"},{display:"Controversial",value:"controversial"},{display:"Q&A",value:"qa"}].map((function(e){return a.a.createElement(v,{key:"commentSort-"+e.value},a.a.createElement(j,{className:e.value===n?"selected":"",onClick:t(e.value)},e.display))})))},A=t(29);function L(){var e=Object(m.a)(["\n    display: inline-block;\n    font-size: 1.5em;\n    border-top: 1px solid gray;\n\n    & > svg {\n        position: relative;\n        top: 2px;\n    }\n\n    :hover {\n        cursor: pointer;\n    }\n"]);return L=function(){return e},e}var I=p.a.div(L()),B=function(e){var n=e.checked,t=e.onClick;return a.a.createElement(I,{onClick:t},n?a.a.createElement(A.a,null):a.a.createElement(A.b,null))},z=function(){var e=Object(d.c)(),n=Object(l.e)(),t=function(){return e({type:"CLOSE_MENUS"})},c=Object(d.d)((function(e){return e.currentSub})),o=Object(d.d)((function(e){return e.currentSort})),i=Object(d.d)((function(e){return e.currentSearch})),s=Object(r.useState)(i),m=Object(u.a)(s,2),p=m[0],b=m[1],f=Object(d.d)((function(e){return e.currentSearchSort})),h=Object(r.useState)(f),g=Object(u.a)(h,2),E=g[0],O=g[1],y=Object(d.d)((function(e){return e.currentSearchSub})),k=Object(r.useState)(y),w=Object(u.a)(k,2),C=w[0],T=w[1],M=function(){t(),n.push("/".concat(c,"/").concat(o,"?search=").concat(p,"&searchSort=").concat(E,"&searchSub=").concat(C,"&searchForSubs=",!1))};return a.a.createElement(S,null,a.a.createElement("h3",null,"Search"),a.a.createElement(v,null,a.a.createElement(x,{type:"text",placeholder:"Search",onChange:function(e){return b(e.target.value)},value:p,onKeyPress:function(e){"Enter"===e.key&&M()}}),a.a.createElement(_,{onClick:M,disabled:"user"===c},"Search")),a.a.createElement(v,null,a.a.createElement(B,{checked:C,onClick:function(){return T(!C)}}),a.a.createElement("label",{style:{width:"100%"}},"This Sub Only")),a.a.createElement(v,null,a.a.createElement(j,{selected:"new"===E,onClick:function(){return O("new")}},"New"),a.a.createElement(j,{selected:"relevance"===E,onClick:function(){return O("relevance")}},"Relevant")),a.a.createElement(v,null,a.a.createElement(j,{onClick:function(){t(),n.push("/".concat(c,"/").concat(o,"?search=").concat(p,"&searchSort=").concat(E,"&searchSub=").concat(C,"&searchForSubs=",!0))},disabled:"user"===c},"Search Subs"),a.a.createElement(j,{onClick:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==p.length&&(b(""),T(!0),O("relevance"),n.push("/".concat(c,"/").concat(o)))}},"Clear Search")))},D=function(){var e=Object(d.d)((function(e){return e.saved})),n=Object(d.d)((function(e){return e.currentPostId}));return a.a.createElement(S,null,a.a.createElement("h3",null,"Saved"),e.map((function(e){return a.a.createElement(v,{key:"save-"+e.id},a.a.createElement(i.b,{to:e.url,className:e.id===n?"selected":"",style:{textTransform:"capitalize",fontSize:"0.9em"}},e.sub," - ",e.title))})))};function H(){var e=Object(m.a)(["\n    position: fixed;\n    width: ",";\n    background-color: black;\n    z-index: 5;\n    top: 35px;\n    border-right: 1px solid red;\n    border-bottom: 1px solid red;\n    max-height: calc(100% - 50px);\n    overflow: scroll;\n    ",";\n"]);return H=function(){return e},e}function F(){var e=Object(m.a)(["\n    display: inline-block;\n    padding: 8px;\n    border-right: 1px solid gray;\n    min-width: 50px;\n    text-align: center;\n    background-color: ",";\n"]);return F=function(){return e},e}function Z(){var e=Object(m.a)(["\n    border-bottom: 1px solid red;\n    position: fixed;\n    width: 100%;\n    background-color: black;\n    z-index: 6;\n\n    & > div:last-child,  & > div:nth-last-child(2){\n        float: right;\n        border-right: none;\n        border-left: 1px solid gray;\n    }\n"]);return Z=function(){return e},e}var W=p.a.div(Z()),G=p.a.div(F(),(function(e){return e.selected?"gray":"none"})),J=p.a.div(H(),(function(e){return e.width?e.width:"250px"}),(function(e){return e.right?"right: 0px; border-left: 1px solid red; border-right: none;":""})),V=function(e){var n=e.onBackClick,t=Object(d.c)(),r=Object(d.d)((function(e){return e.searchMenuOpen})),c=Object(d.d)((function(e){return e.subMenuOpen})),o=Object(d.d)((function(e){return e.sortMenuOpen})),i=Object(d.d)((function(e){return e.saveMenuOpen})),l=Object(d.d)((function(e){return e.saved})),u=Object(d.d)((function(e){return e.currentPostId})),s=Object(d.d)((function(e){return e.currentSub}));return a.a.createElement(a.a.Fragment,null,a.a.createElement(W,null,a.a.createElement(G,{onClick:function(){return t(c?{type:"CLOSE_SUBS"}:{type:"OPEN_SUBS"})},selected:c},"Subs"),l.length>0?a.a.createElement(G,{onClick:function(){return t(i?{type:"CLOSE_SAVED"}:{type:"OPEN_SAVED"})},selected:i},"Saved"):null,u.length>0?a.a.createElement(G,{onClick:n},"Back"):null,a.a.createElement(G,{onClick:function(){return t(o?{type:"CLOSE_SORT"}:{type:"OPEN_SORT"})},selected:o},"Sort"),a.a.createElement(G,{onClick:function(){return t(r?{type:"CLOSE_SEARCH"}:{type:"OPEN_SEARCH"})},selected:r},"Search")),i?a.a.createElement(J,{width:"300px"},a.a.createElement(D,null)):null,c?a.a.createElement(J,null,a.a.createElement(N,null)):null,o&&"user"===s?a.a.createElement(J,{right:!0},a.a.createElement(P,null)):null,o&&"user"!==s&&0===u.length?a.a.createElement(J,{right:!0},a.a.createElement(R,null)):null,o&&"user"!==s&&u.length>0?a.a.createElement(J,{right:!0},a.a.createElement(U,null)):null,r?a.a.createElement(J,{right:!0},a.a.createElement(z,null)):null)},q=t(38),Q=t(18),X=t.n(Q),$=t(23),K=t(22),Y=t(5),ee={currentSub:"",currentSort:"hot",currentPostId:"",currentUserSort:"overview",currentUser:"",postDetails:{},posts:[],noPosts:!1,noMorePosts:!1,latestPost:"",comments:[],extraComments:[],noComments:!1,commentSort:"new",subs:[],saved:[],sortMenuOpen:!1,searchMenuOpen:!1,subMenuOpen:!1,saveMenuOpen:!1,currentSearch:"",currentSearchSort:"relevance",currentSearchSub:!0,searchForSubs:!1,previousUrl:"",permalinkUrl:"",showContext:!1},ne=Object(K.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.payload;switch(n.type){case"SET_SUB":return Object(Y.a)({},e,{currentSub:t});case"SET_SORT":return Object(Y.a)({},e,{currentSort:t});case"SET_POSTID":return Object(Y.a)({},e,{currentPostId:t});case"SET_USER_SORT":return Object(Y.a)({},e,{currentUserSort:t});case"SET_USER":return Object(Y.a)({},e,{currentUser:t});case"SET_POSTS":return Object(Y.a)({},e,{posts:t});case"SET_POST_DETAILS":return Object(Y.a)({},e,{postDetails:t,extraComments:[]});case"CLEAR_SEARCH":return Object(Y.a)({},e,{currentSearch:"",currentSearchSort:"relevance",currentSearchSub:!0,searchMenuOpen:!1});case"OPEN_SEARCH":return Object(Y.a)({},e,{searchMenuOpen:!0,sortMenuOpen:!1,subMenuOpen:!1,saveMenuOpen:!1});case"CLOSE_SEARCH":return Object(Y.a)({},e,{searchMenuOpen:!1});case"OPEN_SUBS":return Object(Y.a)({},e,{subMenuOpen:!0,sortMenuOpen:!1,searchMenuOpen:!1,saveMenuOpen:!1});case"CLOSE_SUBS":return Object(Y.a)({},e,{subMenuOpen:!1});case"OPEN_SORT":return Object(Y.a)({},e,{sortMenuOpen:!0,subMenuOpen:!1,searchMenuOpen:!1,saveMenuOpen:!1});case"CLOSE_SORT":return Object(Y.a)({},e,{sortMenuOpen:!1});case"OPEN_SAVED":return Object(Y.a)({},e,{saveMenuOpen:!0,sortMenuOpen:!1,subMenuOpen:!1,searchMenuOpen:!1});case"CLOSE_SAVED":return Object(Y.a)({},e,{saveMenuOpen:!1});case"CLOSE_MENUS":return Object(Y.a)({},e,{sortMenuOpen:!1,searchMenuOpen:!1,subMenuOpen:!1,saveMenuOpen:!1});case"SET_SUBS":return Object(Y.a)({},e,{subs:t});case"SET_SAVED":return Object(Y.a)({},e,{saved:t});case"SET_CURRENT_SEARCH":return Object(Y.a)({},e,{currentSearch:t});case"SET_CURRENT_SEARCH_SORT":return Object(Y.a)({},e,{currentSearchSort:t});case"SET_CURRENT_SEARCH_SUB":return Object(Y.a)({},e,{currentSearchSub:t});case"SET_SEARCH_FOR_SUBS":return Object(Y.a)({},e,{searchForSubs:t});case"SET_NO_POSTS":return Object(Y.a)({},e,{noPosts:t});case"SET_LATEST_POST":return Object(Y.a)({},e,{latestPost:t});case"SET_NO_MORE_POSTS":return Object(Y.a)({},e,{noMorePosts:t});case"SET_COMMENTS":return Object(Y.a)({},e,{comments:t});case"SET_EXTRA_COMMENTS":return Object(Y.a)({},e,{extraComments:t});case"SET_NO_COMMENTS":return Object(Y.a)({},e,{noComments:t});case"SET_COMMENT_SORT":return Object(Y.a)({},e,{commentSort:t});case"SET_PREVIOUS_URL":return Object(Y.a)({},e,{previousUrl:t});case"SET_PERMALINK_URL":return Object(Y.a)({},e,{permalinkUrl:t});case"SET_SHOW_CONTEXT":return Object(Y.a)({},e,{showContext:t});default:return e}})),te=function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("more"===n.kind){var r=null!==t?t.data.permalink.match(/\/r\/[a-zA-Z0-9]+\/comments\/[a-zA-Z0-9]+\/([a-zA-Z0-9_]+)\//)[1]:"";return{kind:"more",id:n.data.parent_id.replace("t1_",""),body_html:"",name:"",author:"",replies:[],score:0,permalink:r}}var a=n.data,c=a.body_html,o=a.id,i=a.name,l=a.author,u=a.permalink,s=a.replies,d=a.score,m=a.created_utc,p=a.parent_id;c=ae(c),s=(s="object"===typeof s?s.data.children:[]).map((function(t){return e(t,n)}));var b=!p.includes("t3_");return{body_html:c,id:o,name:i,author:l,permalink:u,replies:s,score:d,created_utc:m,hasContext:b}},re=function(e){var n=(e=(e=(e=e.replace(/<a/g,'<a target="_blank" rel="noopener noreferrer"')).replace(/href="\/u/g,'href="https://www.reddit.com/$1')).replace(/target="_blank" rel="noopener noreferrer" href="\/r/g,'href="#')).match(/href="https:\/\/www.reddit.com\/r\/[a-zA-Z0-9]+\/comments\/[a-zA-Z0-9]+/g);return null!==n&&n.forEach((function(n){var t=n.match(/r\/([a-zA-Z0-9]+)/)[1],r=n.match(/comments\/([a-zA-Z0-9]+)/)[1];e=e.replace('target="_blank" rel="noopener noreferrer" '.concat(n),'href="#/'.concat(t,"/comments/").concat(r))})),e},ae=function(e){return e=e?e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;#39;/g,"'").replace(/&amp;quot;/g,'"').replace(/&amp;/g,"&").replace(/&#x200B;/g," "):""},ce=function(e){return"true"===e},oe=function(e){var n="",t=localStorage.getItem("subs");return n=e+(t=t?JSON.parse(t):[]).join("+"),0===t.length&&(n=e+"All"),n},ie=function(){var e=Object($.a)(X.a.mark((function e(){var n,t,r,a,c,o,i,l,u,s,m,p,f,h,g,v,E,S,O,x,y,j,k,_,w,C,T=arguments;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=T.length>0&&void 0!==T[0]&&T[0],t=T.length>1&&void 0!==T[1]&&T[1],r=ne.getState(),a=r.posts,c=r.currentSub,o=r.currentSort,i=r.currentUser,l=r.currentUserSort,u=r.currentSearch,s=r.currentSearchSort,m=r.currentSearchSub,p=r.latestPost,f=r.searchForSubs,h=r.previousUrl,g=function(e){return ne.dispatch({type:"SET_LATEST_POST",payload:e})},v=function(e){return ne.dispatch({type:"SET_POSTS",payload:e})},E=function(e){return ne.dispatch({type:"SET_NO_POSTS",payload:e})},S=function(e){return ne.dispatch({type:"SET_NO_MORE_POSTS",payload:e})},O=function(e){return ne.dispatch({type:"SET_PREVIOUS_URL",payload:e})},0!==c.length){e.next=11;break}return e.abrupt("return");case 11:if(c.length>0&&(c="r/"+c),"r/My Subreddits"===c&&(c=oe("r/")),e.prev=13,x="https://www.reddit.com/".concat(c,"/").concat(o,"/.json"),n&&(x+="?after=".concat(p)),u.length>0&&(y=u.split(" ").join("+"),x=f?"https://www.reddit.com/".concat(c,"/search.json?q=").concat(y,"&include_over_18=on&sort=relevance&type=sr"):"https://www.reddit.com/".concat(c,"/search.json?q=").concat(y).concat(m?"&restrict_sr=on":"","&include_over_18=on&sort=").concat(s),n&&(x+="&after=".concat(p))),0===c.length&&(x="https://www.reddit.com/.json"),"r/user"===c&&(x="https://www.reddit.com/user/".concat(i,"/").concat(l,".json"),n&&(x+="?after=".concat(p))),x!==h||!1!==t){e.next=23;break}return e.abrupt("return");case 23:j=x.replace(/\?after=[a-zA-Z0-9_]+/,""),O(j);case 25:return n||(v([]),E(!1),S(!1)),e.next=28,fetch(x);case 28:return k=e.sent,e.next=31,k.json();case 31:(_=e.sent).error?(console.log("Getting Post List - Error: ",_.error),n||Object(d.b)((function(){E(!0),v([])}))):_&&_.data&&_.data.children&&(w=_.data.children.map((function(e){var n=e.data,t=n.media;if(t=t&&t.oembed?ae(t.oembed.html):"","t5"===e.kind)return{id:n.id,name:n.name,type:"sub",title:ae(n.title),subName:n.display_name,description:ae(n.description_html),created:n.created_utc,subscribers:n.subscribers};if("t1"===e.kind){var r=te(e);return r.type="comment",r.link_title=n.link_title,r.link_id=n.link_id,r.subreddit=n.subreddit,r}return{type:"post",created:n.created_utc,author:n.author,domain:n.domain,title:ae(n.title),id:n.id,name:n.name,body:ae(n.selftext_html),num_comments:n.num_comments,score:n.score,subreddit:n.subreddit,stickied:n.stickied,url:n.url,thumbnail:n.thumbnail,permalink:n.permalink,media:t,media_embed:n.media_embed}})),C=0===w.length,n&&(w=[].concat(Object(b.a)(a),Object(b.a)(w))),Object(d.b)((function(){C||g(w[w.length-1].name),v(w),C&&S(!0),C&&!n&&E(!0)}))),e.next=39;break;case 35:e.prev=35,e.t0=e.catch(13),console.log("Getting Post List - URL Error: ",e.t0),n||Object(d.b)((function(){E(!0),v([])}));case 39:case"end":return e.stop()}}),e,null,[[13,35]])})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object($.a)(X.a.mark((function e(n,t){var r,a,c,o,i,l,u,s,d,m;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ne.getState(),a=r.extraComments,c=r.currentSub,o=r.currentPostId,i=function(e){return ne.dispatch({type:"SET_EXTRA_COMMENTS",payload:e})},e.prev=3,e.next=6,fetch("https://www.reddit.com/r/".concat(c,"/comments/").concat(o,"/").concat(t,"/").concat(n,".json"));case 6:return l=e.sent,e.next=9,l.json();case 9:(u=e.sent).error?console.log("Getting More Comments - Error: ",u.error):(s=u[1].data.children.map((function(e){return te(e)})),d=s[0],void 0===a.find((function(e){return e.id===d.id}))&&(m=[].concat(Object(b.a)(a),[d]),i(m))),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log("Getting More Comments - URL Error: ",e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(n,t){return e.apply(this,arguments)}}(),ue=function(){var e=Object($.a)(X.a.mark((function e(){var n,t,r,a,c,o,i,l,u,s,m,p,b,f,h,g,v,E,S,O,x,y,j,k,_,w,C;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ne.getState(),t=n.currentSub,r=n.currentPostId,a=n.commentSort,c=n.permalinkUrl,o=n.showContext,i=function(e){return ne.dispatch({type:"SET_COMMENTS",payload:e})},l=function(e){return ne.dispatch({type:"SET_NO_COMMENTS",payload:e})},u=function(e){return ne.dispatch({type:"SET_POST_DETAILS",payload:e})},0!==r.length){e.next=7;break}return e.abrupt("return");case 7:return i([]),l(!1),"My Subreddits"===t&&(t=oe()),s="".concat(t,"/comments/").concat(r,"/").concat(c),m=o&&c.length>0?1e4:0,e.prev=12,e.next=15,fetch("https://www.reddit.com/r/".concat(s,".json?sort=").concat(a,"&context=").concat(m));case 15:return p=e.sent,e.next=18,p.json();case 18:(b=e.sent).error?console.log("Getting Comments - Error: ",b.error):(f=b[0].data.children[0].data,h=f.title,g=f.selftext_html,v=f.id,E=f.url,S=f.media,O=f.media_embed,x=f.media_metadata,y=f.is_gallery,j=f.gallery_data,k=f.author,_=f.created_utc,w=f.permalink,C=b[1].data.children.map((function(e){return te(e)})),Object(d.b)((function(){u({id:v,url:E,title:h,author:k,created:_,body:ae(g),media:S,media_embed:O,permalink:w,media_metadata:x,is_gallery:y,gallery_data:j}),i(C),0===C.length&&l(!0)}))),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(12),console.log("Getting Comments - URL Error: ",e.t0);case 25:case"end":return e.stop()}}),e,null,[[12,22]])})));return function(){return e.apply(this,arguments)}}(),se=t(55);function de(){var e=Object(m.a)(["\n    margin-top: 10px;\n    padding-right: 5px;\n\n    & :hover {\n        cursor: pointer;\n    }\n\n    @media screen and (max-device-width: 600px){\n        font-size: 0.9em;\n    }\n"]);return de=function(){return e},e}var me=p.a.div(de());function pe(){var e=Object(m.a)(["\n    display: flex;\n    flex-direction: column; \n    height: 100%;\n    align-content: center;\n\n    & > div {\n        margin-top: auto;\n        margin-bottom: auto;\n    }\n"]);return pe=function(){return e},e}var be=p.a.div(pe());function fe(){var e=Object(m.a)(["\n    font-size: 0.9em;\n    color: gray;\n    margin-top: 5px;\n    margin-bottom: 5px;\n\n    & a {\n        color: gray;\n    }\n"]);return fe=function(){return e},e}var he=p.a.div(fe());function ge(){var e=Object(m.a)(["\n    display: inline-flex;\n    position: relative;\n    float: right;\n    border-bottom: 1px solid ",";\n    border-left: 1px solid ",";\n    color: gray;\n    width: 32px;\n    height: 32px;\n\n    & > svg {\n        margin: auto;\n    }\n\n    &:hover {\n        cursor: pointer;\n        color: white;\n    }\n"]);return ge=function(){return e},e}var ve=p.a.div(ge(),(function(e){return e.stickied?"#50ec11":"red"}),(function(e){return e.stickied?"#50ec11":"red"}));function Ee(){var e=Object(m.a)(["\n    padding: 5px;\n    overflow: hidden;\n\n    & img {\n        max-width: 95%;\n        max-height: 900px;\n    }\n\n    & iframe {\n        max-width: 100%;\n        margin: auto;\n        display: block;\n    }\n\n    & a {\n     color: rgb(0, 225, 255);\n    }\n\n    & .embedly-card-hug {\n        background-color: white;\n        margin: 5px !important;\n    }\n"]);return Ee=function(){return e},e}function Se(){var e=Object(m.a)(["\n    font-size: 0.9em;\n    display: inline-block;\n    margin-bottom: 10px;\n    cursor: pointer;\n\n    & > span > svg {\n        position: relative;\n        top: 2px;\n        margin-left: 2px;\n    }\n"]);return Se=function(){return e},e}function Oe(){var e=Object(m.a)(["\n    min-width: 70px;\n    max-width: 70px;\n    max-height: 70px;\n    overflow: hidden;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-right: 10px;\n    margin-bottom: 10px;\n    margin-top: 10px;\n\n    & > img {\n        height: 70px;\n        width: auto;\n        margin: auto;\n    }\n"]);return Oe=function(){return e},e}function xe(){var e=Object(m.a)(["\n    border: 1px solid ",";\n    padding: 0px 0px 0px 10px;\n    margin: 5px auto;\n    width: 95%;\n    max-width: 1200px;\n    display: flex;\n    position: relative;\n"]);return xe=function(){return e},e}var ye=p.a.div(xe(),(function(e){return e.stickied?"#50ec11":"red"})),je=p.a.div(Oe()),ke=p.a.div(Se()),_e=p.a.div(Ee()),we=a.a.memo((function(e){var n=e.post,t=e.onClickLink,c=e.currentSub,o=e.currentSort,l=Object(r.useState)(!1),s=Object(u.a)(l,2),d=s[0],m=s[1];if(void 0===n)return a.a.createElement("span",null);var p=Object(se.a)(new Date,1e3*n.created),b=!1;!0===/(.jpg|.png|.bmp|.jpeg)/.test(n.thumbnail)&&(b=!0),n.body=re(n.body);var h=a.a.createElement(_e,{dangerouslySetInnerHTML:{__html:n.body}}),g=!1;if(n.url.match(/.(jpg|png|bmp|gif|jpeg)$/)&&(h=a.a.createElement(_e,null,a.a.createElement("img",{src:n.url,alt:"Preview user linked to"})),g=!0),n.media.length>0){n.body.length>0&&(n.media+="<br/>"+n.body);var v=re(n.media);h=a.a.createElement(_e,{dangerouslySetInnerHTML:{__html:v}}),g=!0}if(n.url.includes("v.redd.it")){var E="https://www.reddit.com".concat(n.permalink,"?ref=share&ref_source=embed");h=a.a.createElement(_e,null,a.a.createElement("blockquote",{className:"reddit-card"},a.a.createElement("a",{href:E,target:"_blank",rel:"noopener noreferrer"},n.title))),g=!0}var S=!0;0===n.body.length&&!1===g&&(S=!1);var O=!!n.stickied;return a.a.createElement(ye,{stickied:O},b?a.a.createElement(je,null,a.a.createElement("img",{src:n.thumbnail,alt:"Thumbnail"})):null,a.a.createElement("div",{style:b?{width:"100%",maxWidth:"calc(100% - 80px)"}:{width:"100%",maxWidth:"100%"}},S?a.a.createElement(ve,{onClick:function(){m(!d)},stickied:O},d?a.a.createElement(f.b,null):a.a.createElement(f.a,null)):null,a.a.createElement(be,null,a.a.createElement("div",null,a.a.createElement(me,null,a.a.createElement("span",{onClick:t("/".concat(c,"/comments/").concat(n.id))},n.title)),a.a.createElement(he,null,a.a.createElement(i.b,{to:"/".concat(n.subreddit,"/").concat(o)},n.subreddit),n.url.includes("v.redd.it")?a.a.createElement("span",null," - video"):a.a.createElement("span",null," - ",a.a.createElement("a",{href:n.url,target:"_blank",rel:"noreferrer noopener"},n.domain))," - ",a.a.createElement("span",null,p)),d?h:null,a.a.createElement("div",null,a.a.createElement(ke,null,a.a.createElement("span",{onClick:t("/".concat(c,"/comments/").concat(n.id))},n.num_comments," ",a.a.createElement(f.e,null))),a.a.createElement("span",{style:{marginLeft:"15px"}},a.a.createElement("a",{href:"https://www.reddit.com".concat(n.permalink),target:"_blank",rel:"noreferrer noopener"},"Open on Reddit")))))))}),(function(e,n){return e.post.id===n.post.id}));function Ce(){var e=Object(m.a)(["\n    width: 45px;\n    height: 45px;\n    margin: 5px 5px 5px -5px;\n    border: 1px solid ",";\n    display: flex;\n    align-items: center;\n\n    & > svg {\n        font-size: 1.5em;\n        margin: auto;\n    }\n\n    :hover {\n        cursor: pointer;\n        background-color: gray;\n    }\n"]);return Ce=function(){return e},e}function Te(){var e=Object(m.a)(["\n    border: 1px solid ",";\n    padding: 0px 0px 0px 10px;\n    margin: 5px auto;\n    width: 95%;\n    max-width: 1200px;\n    display: flex;\n    position: relative;\n"]);return Te=function(){return e},e}var Me=p.a.div(Te(),(function(e){return e.stickied?"#50ec11":"red"})),Ne=p.a.div(Ce(),(function(e){return e.stickied?"#50ec11":"red"})),Re=a.a.memo((function(e){var n=e.sub,t=e.currentSort,c=Object(d.c)(),o=Object(r.useState)(!1),l=Object(u.a)(o,2),s=l[0],m=l[1],p=Object(d.d)((function(e){return e.subs}));if(void 0===n)return a.a.createElement("span",null);var h=Object(se.a)(new Date,1e3*n.created),g=re(n.description),v=!0;0===g.length&&(v=!1);var E=p.reduce((function(e,t){return t.toLowerCase()===n.subName.toLowerCase()&&e++,e}),0);return a.a.createElement(Me,{stickied:E},E?null:a.a.createElement(Ne,{onClick:function(){var e=[].concat(Object(b.a)(p),[n.subName]);c({type:"SET_SUBS",payload:e}),localStorage.setItem("subs",JSON.stringify(e))},stickied:E},a.a.createElement(f.d,null)),a.a.createElement("div",{style:{width:"100%",maxWidth:"100%"}},v?a.a.createElement(ve,{onClick:function(){m(!s)},stickied:E},s?a.a.createElement(f.b,null):a.a.createElement(f.a,null)):null,a.a.createElement(be,null,a.a.createElement("div",null,a.a.createElement(me,null,a.a.createElement(i.b,{to:"/".concat(n.subName,"/").concat(t)},n.title)),a.a.createElement(he,null,a.a.createElement("span",null,n.subName)," - ",a.a.createElement("span",null,n.subscribers>0?n.subscribers:0," ",1!==n.subscribers?"members":"member")," - ",a.a.createElement("span",null,h)),s?a.a.createElement("span",{dangerouslySetInnerHTML:{__html:g}}):null))))}),(function(e,n){return e.sub.id===n.sub.id}));function Pe(){var e=Object(m.a)(["\n    margin-top: 10px;\n\n    & > div {\n        margin-bottom: 5px;\n    }\n"]);return Pe=function(){return e},e}var Ue=p.a.div(Pe()),Ae=function(e){var n=e.comments,t=e.author;return 0===n.length?null:a.a.createElement(Ue,{id:"commentList"},n.map((function(e){return a.a.createElement(Je,{key:e.id,comment:e,author:t})})))};function Le(){var e=Object(m.a)(["\n    margin-bottom: 10px;\n\n    :hover {\n        cursor: pointer;\n    }\n"]);return Le=function(){return e},e}function Ie(){var e=Object(m.a)(["\n    font-size: 0.8em;\n    margin-bottom: 5px;\n    color: gray;\n\n    & > span:hover, & > div:hover {\n        cursor: pointer;\n    }\n\n    & > div {\n        margin-top: 10px;\n        font-size: 1.2em;\n        display: inline-block;\n    }\n    \n    & > a {\n        color: gray;\n    }\n"]);return Ie=function(){return e},e}function Be(){var e=Object(m.a)(["\n    color: white !important;\n\n    ",";\n"]);return Be=function(){return e},e}function ze(){var e=Object(m.a)(["\n    :hover {\n        cursor: pointer;\n    }\n"]);return ze=function(){return e},e}function De(){var e=Object(m.a)(["\n    padding: 5px;\n    padding-bottom: 0px;\n    border-left: 1px solid red;\n    border-top: 1px solid red;\n    margin-bottom: 0px;\n    transition: border-left 0.5s;\n\n    ","\n\n    & a {\n        color: rgb(0, 225, 255);\n    }\n\n    & pre {\n        overflow: scroll;\n    }\n\n    :hover {\n        border-left: 1px solid #fcc203;\n    }\n"]);return De=function(){return e},e}var He=p.a.div(De(),(function(e){if(e.single)return"\n                border: 1px solid red;\n                width: 95%;\n                max-width: 1200px;\n                margin: 5px auto;\n            "})),Fe=p.a.span(ze()),Ze=p.a.a(Be(),(function(e){return e.original?"\n        color: #059afe !important; \n        font-weight: bold;\n    ":""})),We=p.a.div(Ie()),Ge=p.a.div(Le()),Je=function(e){var n=e.comment,t=e.author,c=e.single,o=void 0!==c&&c,i=e.onClickLink,l=Object(r.useState)(!1),s=Object(u.a)(l,2),m=s[0],p=s[1],b=Object(d.d)((function(e){return e.extraComments})),f=Object(d.d)((function(e){return e.permalinkUrl})).split("/")[1]===n.id,h=b.find((function(e){return e.id===n.id&&"more"!==n.kind})),g="";(h=void 0!==h?h.replies:[]).length>0?g=a.a.createElement(Ae,{comments:h,author:t}):n.replies.length>0&&(g=a.a.createElement(Ae,{comments:n.replies,author:t}));var v=re(n.body_html),E=void 0!==n.created_utc?Object(se.a)(new Date,1e3*n.created_utc):"",S=1===n.score||-1===n.score?"point":"points";return"more"===n.kind&&0===n.permalink.length?null:a.a.createElement(He,{single:o},o?a.a.createElement(Ge,{onClick:i("/".concat(n.subreddit,"/comments/").concat(n.link_id.replace("t3_","")))},n.link_title,a.a.createElement("span",{style:{color:"gray"}}," | ",n.subreddit)," "):null,o?null:a.a.createElement(Fe,{onClick:function(){p(!m)}},m?"[ + ] ":"[ - ] "),o?null:a.a.createElement(Ze,{original:n.author===t,href:"#/user/".concat(n.author)},n.author),"more"===n.kind?null:a.a.createElement("span",{style:{color:"gray"}}," ",o?"":"|"," ",n.score," ",S,E.length>0?" | ".concat(E):""),m?null:a.a.createElement("div",{dangerouslySetInnerHTML:{__html:v},style:f?{backgroundColor:"rgba(150,150,0,0.3)"}:{}}),m?null:a.a.createElement(We,null,"more"!==n.kind?a.a.createElement("a",{href:"https://www.reddit.com/".concat(n.permalink),target:"_blank",rel:"noreferrer noopener"},"Permalink"):null,o?a.a.createElement("span",{onClick:i(n.permalink.replace("r/",""))}," | Go to comment"):null,"more"===n.kind?a.a.createElement("div",{onClick:function(){le(n.id,n.permalink)}},"Load More"):null),m?null:g)};function Ve(){var e=Object(m.a)(["\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    border: 3px solid red;\n    border-top: 0px;\n    border-bottom: 0px;\n    margin: auto;\n    margin-top:40px;\n    position: relative;\n    animation-name: rotate;\n    animation-duration: 1s;\n    animation-iteration-count: infinite;\n    animation-timing-function: linear;\n\n    &:after {\n        content:'';\n        display: block;\n        position: absolute;\n        top: 2px;\n        left: 2px;\n        width: 40px;\n        height: 40px;\n        border-radius: 50%;\n        border: 3px solid red;\n        border-left: 0px;\n        border-right: 0px;\n        margin: auto;\n        animation-name: rotate;\n        animation-duration: 0.5s;\n        animation-iteration-count: infinite;\n        animation-timing-function: linear;\n        animation-direction: reverse;\n    }\n\n    &:before {\n        content:'';\n        display: block;\n        position: absolute;\n        top: 10px;\n        left: 4px;\n        width: 30px;\n        height: 30px;\n        border-radius: 50%;\n        border: 3px solid red;\n        border-top: 0px;\n        border-bottom: 0px;\n        margin: auto;\n        animation-name: rotate;\n        animation-duration: 1s;\n        animation-iteration-count: infinite;\n        animation-timing-function: linear;\n    }\n\n    @keyframes rotate {\n        from {\n            transform: rotate(0deg);\n        }\n        \n        to {\n            transform: rotate(360deg);\n        }\n    }\n"]);return Ve=function(){return e},e}var qe=p.a.div(Ve()),Qe=function(e){var n=e.onClickLink,t=Object(d.d)((function(e){return e.posts})),r=Object(d.d)((function(e){return e.noPosts})),c=Object(d.d)((function(e){return e.currentSub})),o=Object(d.d)((function(e){return e.currentSort})),i=Object(d.d)((function(e){return e.currentPostId})),l=Object(d.d)((function(e){return e.noMorePosts}));if(r)return a.a.createElement("div",{style:{textAlign:"center"}},"No Posts Found");if(0===t.length&&0===i.length)return a.a.createElement("div",null,a.a.createElement(qe,null));var u=i.length>0,s=u?"absolute":"relative",m=u?"-1000000px":"0px",p=u?"-20000px":"0px",b=!u&&!l;return a.a.createElement("div",{style:{margin:"auto",position:s,top:m,right:p,marginBottom:"20px"}},a.a.createElement(q.a,{dataLength:t.length,next:function(){return ie(!0)},hasMore:b,loader:a.a.createElement("div",{style:{textAlign:"center",margin:"10px"}},"Loading More..."),scrollableTarget:"#mainPage",scrollThreshold:"500px"},t.map((function(e){return"comment"===e.type?a.a.createElement(Je,{key:e.id,comment:e,author:"",single:!0,onClickLink:n}):"sub"===e.type?a.a.createElement(Re,{key:e.id,sub:e,currentSort:o}):"user"===c?a.a.createElement(we,{key:e.id,post:e,currentSub:e.subreddit,currentSort:"hot",onClickLink:n}):a.a.createElement(we,{key:e.id,post:e,currentSub:c,currentSort:o,onClickLink:n})})),l?a.a.createElement("div",{style:{textAlign:"center",margin:"10px"}},"No More Posts"):null))};function Xe(){var e=Object(m.a)(["\n    & > div#mainImageOuter {\n        position: relative;\n    }\n\n    & > div#caption {\n        text-align: center;\n        font-size: 0.9em;\n        margin-bottom: 5px;\n    }\n\n    & > div#thumbnails {\n        display: flex;\n        max-width: 100%;\n        justify-content: center;\n        align-items: center;\n        flex-flow: wrap;\n    }\n\n    & > div#thumbnails > img {\n        margin: 5px;\n    }\n\n    & > div#thumbnails > img:hover {\n        cursor: pointer;\n    }\n\n    & #galleryInner {\n        padding-top: 50%;\n    }\n    \n    & #galleryImgDiv {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 100%;\n        height: 100%;\n        text-align: center;\n        display: flex;\n        justify-content: center;\n    }\n\n    & #galleryImgDiv a {\n        align-self: center;\n        width: calc(100% - 100px);\n        height: 100%;\n    }\n    \n    & #galleryImgDiv img {\n        max-width: 100%;\n        max-height: 100%;\n        min-height: 100%;\n    }\n\n    & #galleryButtons {\n        position: absolute;\n        top: 50%;\n        width: 100%;\n        display: flex;\n        z-index: 3;\n        justify-content: space-between;\n    }\n    \n    & #galleryButtons > div {\n        border-radius: 50%;\n        width: 50px;\n        height: 50px;\n        background-color: black;\n        opacity: 0.6;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        font-size: 2em;\n        position: relative;\n    }\n\n    & #galleryButtons > div:hover {\n        cursor: pointer;\n        background-color: gray;\n    }\n\n    & #galleryButtons > div:first-child {\n        transform: translate(0,-50%) rotate(90deg);\n        left: -15px;\n    }\n\n    & #galleryButtons > div:last-child {\n        transform: translate(0,-50%) rotate(-90deg);\n        right: -15px;\n    }\n\n    & #galleryButtons > div > svg {\n        position: relative;\n        top: 2px;\n    }\n\n    @media screen and (max-width: 700px) {\n        & #galleryButtons > div:hover {\n            background-color: black;\n        }\n    }\n"]);return Xe=function(){return e},e}var $e=p.a.div(Xe()),Ke=function(e,n){for(var t=6;t>0;){if(void 0!==e[n])return ae(e[n].u);n--,t--}},Ye=function(e){var n=e.data,t=e.extraData,c=n?Object.keys(n)[0]:"",o=Object(r.useState)(c),i=Object(u.a)(o,2),l=i[0],d=i[1],m=Object(s.useMediaQuery)({maxWidth:700}),p=Object(s.useMediaQuery)({maxWidth:960}),b=Object(s.useMediaQuery)({maxWidth:2560}),h=n?Object.keys(n).indexOf(l):0,g=n?Object.keys(n).length:0;if(!n)return a.a.createElement("p",null,"Post has been removed");var v="";b&&(v=Ke(n[l].p,5)),p&&(v=Ke(n[l].p,4)),m&&(v=Ke(n[l].p,3));var E=ae(n[l].s.u),S="".concat(h+1,"/").concat(g),O=t.items.find((function(e){return e.media_id===l}));void 0!==O&&void 0!==O.caption&&(S+=" - Caption: "+O.caption);var x=function(e){return function(){d(e)}};return a.a.createElement($e,null,S.length>0?a.a.createElement("div",{id:"caption"},S):null,a.a.createElement("div",{id:"mainImageOuter"},a.a.createElement("div",{id:"galleryInner"},a.a.createElement("div",{id:"galleryButtons"},a.a.createElement("div",{onClick:function(){var e=Object.keys(n),t=e.indexOf(l)-1;t<0&&(t=e.length-1);var r=e[t];d(r)}},a.a.createElement(f.a,null)),a.a.createElement("div",{onClick:function(){var e=Object.keys(n),t=e.indexOf(l)+1;t>=e.length&&(t=0);var r=e[t];d(r)}},a.a.createElement(f.a,null))),a.a.createElement(qe,{style:{position:"absolute",left:"calc(50% - 25px)",top:"calc(50% - 50px)",zIndex:"0"}}),a.a.createElement("div",{id:"galleryImgDiv"},a.a.createElement("a",{key:l,href:E,target:"_blank",rel:"noopener noreferrer"},a.a.createElement("img",{src:v,alt:"Gallery Main"}))))),a.a.createElement("div",{id:"thumbnails"},m?null:Object.values(n).map((function(e,n){return a.a.createElement("img",{key:e.id+n,src:ae(e.p[0].u),onClick:x(e.id),alt:"Thumbnail"})}))))};function en(){var e=Object(m.a)(["\n    :hover {\n        cursor: pointer;\n    }\n"]);return en=function(){return e},e}function nn(){var e=Object(m.a)(["\n    position: fixed;\n    bottom: 10px;\n    right: 10px;\n    width: 50px;\n    height: 50px;\n    border: 1px solid red;\n    background-color: black;\n    border-radius: 50%;\n    text-align: center;\n\n    & > svg {\n        position: relative;\n        top: 10px;\n        font-size: 2em;\n    }\n\n    :hover {\n        cursor: pointer;\n        background-color: gray;\n    }\n\n    @media screen and (max-width: 700px) {\n        :hover {\n            background-color: black;\n        }\n    }\n"]);return nn=function(){return e},e}function tn(){var e=Object(m.a)(["\n    border-bottom: 1px solid gray;\n    margin-bottom: 5px;\n    padding-bottom: 10px;\n\n    & pre {\n        overflow: scroll;\n    }\n\n    & > img {\n        max-width: 100%;\n        margin-top: 10px;\n    }\n    \n    & iframe {\n        max-width: 100%;\n        margin: auto;\n        display: block;\n    }\n\n    & a {\n     color: rgb(0, 225, 255);\n    }\n\n    & h1 {\n        font-size: 1.2em;\n    }\n\n    & h2 {\n        font-size: 1.1em;\n    }\n\n    & h3 {\n        font-size: 1em;\n    }\n\n    & .embedly-card-hug {\n        background-color: white;\n        margin: 5px !important;\n    }\n"]);return tn=function(){return e},e}function rn(){var e=Object(m.a)(["\n    color: gray;\n    text-align: left;\n    margin-bottom: 5px;\n\n    & a {\n        color: gray;\n    }\n"]);return rn=function(){return e},e}function an(){var e=Object(m.a)(["\n    background-color: black;\n    padding: 20px;\n    width: 100%;\n    max-width: 1200px;\n    margin: auto;\n    margin-bottom: 30px;\n\n    & h1 {\n        text-align: left;\n        margin-bottom: 10px;\n    }\n"]);return an=function(){return e},e}var cn=p.a.div(an()),on=p.a.div(rn()),ln=p.a.div(tn()),un=p.a.div(nn()),sn=p.a.span(en()),dn=function(e,n,t,r,c,o,i,l,u,s){e=re(e);var d=a.a.createElement(ln,{dangerouslySetInnerHTML:{__html:e},className:"postDivBody"});if(/.(png|jpg|jpeg|bmp|gif)$/.test(n)&&(d=a.a.createElement(ln,null,a.a.createElement("img",{src:n,alt:"Preview of content"}))),t&&"liveupdate"===t.type){var m=ae(r.content);return m=m.replace("iframe src",'iframe width="100%" src'),d=a.a.createElement(ln,{dangerouslySetInnerHTML:{__html:m},className:"postDivBody"})}if(t&&t.oembed?(t=ae(t.oembed.html),t=re(t),e.length>0&&(t+="<br/>"+e),d=a.a.createElement(ln,{dangerouslySetInnerHTML:{__html:t},className:"postDivBody"})):t="",u)return a.a.createElement(ln,{className:"postDivBody"},a.a.createElement(Ye,{data:l,extraData:s}));if(n.includes("v.redd.it")){var p="https://www.reddit.com".concat(c,"?ref=share&ref_source=embed");d=a.a.createElement(ln,{className:"postDivBody"},a.a.createElement("blockquote",{className:"reddit-card"},a.a.createElement("a",{href:p,target:"_blank",rel:"noopener noreferrer"},o)))}return d},mn=function(){var e=Object(d.c)(),n=Object(d.d)((function(e){return e.comments})),t=Object(d.d)((function(e){return e.noComments})),c=Object(d.d)((function(e){return e.postDetails})),o=Object(d.d)((function(e){return e.currentPostId})),i=Object(d.d)((function(e){return e.commentSort})),l=Object(d.d)((function(e){return e.currentSub})),u=Object(d.d)((function(e){return e.permalinkUrl})),m=Object(d.d)((function(e){return e.showContext})),p=Object(s.useMediaQuery)({maxWidth:700}),h=Object(d.d)((function(e){return e.saved}));if(Object(r.useEffect)((function(){!function(){var e=ne.getState().posts,n=ne.getState().currentPostId,t=function(e){return ne.dispatch({type:"SET_POST_DETAILS",payload:e})},r=void 0;n.length>0&&(r=e.find((function(e){return e.id===n}))),t(void 0===r?{}:r)}(),window.scrollTo(0,0)}),[]),Object(r.useEffect)((function(){ue()}),[i,o,u,m]),void 0===c.body||c.id!==o)return a.a.createElement("div",{style:{textAlign:"center"}},a.a.createElement(qe,null));var g=c.url,v=c.title,E=c.author,S=c.created,O=c.body,x=c.media,y=c.permalink,j=c.media_embed,k=c.media_metadata,_=c.is_gallery,w=c.gallery_data,C=g.match(/\/r\/[a-zA-Z0-9]+\/comments\/[a-zA-Z0-9]+/g),T=void 0;if(C&&C.length>0){var M=C[0],N=M.match(/r\/([a-zA-Z0-9]+)/)[1],R=M.match(/comments\/([a-zA-Z0-9]+)/)[1];void 0===N||void 0===R||N===l&&R===o||(T="#/".concat(N,"/comments/").concat(R))}var P=dn(O,g,x,j,y,v,l,k,_,w),U=Object(se.a)(new Date,1e3*S),A=g||"";A.length>40&&(A=A.substr(0,40)+"...");var L=void 0!==h.find((function(e){return e.id===o})),I=a.a.createElement("a",{href:g,target:"_blank",rel:"noopener noreferrer"}," | Go to URL (",A,")");void 0!==T&&(I=a.a.createElement("a",{href:T}," | Go to Post (",A,")")),g.includes("v.redd.it")&&(I=a.a.createElement("a",{href:"https://www.reddit.com".concat(y),target:"_blank",rel:"noopener noreferrer"}," | Video"));var B=void 0!==n[0]&&n[0].hasContext;return a.a.createElement(cn,null,a.a.createElement("div",null,a.a.createElement("h2",{dangerouslySetInnerHTML:{__html:v}}),a.a.createElement(on,null,a.a.createElement("a",{href:"#/user/".concat(E)},E)," | ",U," ",I),a.a.createElement(on,null,a.a.createElement("a",{href:"https://www.reddit.com".concat(y),target:"_blank",rel:"noopener noreferrer"},"Open on Reddit")," - ",a.a.createElement(sn,{onClick:function(){var n;if(L)n=h.filter((function(e){return e.id!==c.id}));else{var t="/".concat(l,"/comments/").concat(c.id);n=[].concat(Object(b.a)(h),[{id:o,title:v,url:t,sub:l}])}e({type:"SET_SAVED",payload:n}),localStorage.setItem("saved",JSON.stringify(n))}},L?"Unsave":"Save")),P),0===n.length&&!1===t?a.a.createElement(qe,null):null,t?a.a.createElement("div",null,"No Comments"):null,u.length>0?a.a.createElement("a",{href:"#/".concat(l,"/comments/").concat(o)},"Show All Comments"):null,u.length>0&&B?a.a.createElement("span",null," - ",a.a.createElement("a",{href:"#/".concat(l,"/comments/").concat(o,"/").concat(u,"/?context=10000")},"Show Context")):null,a.a.createElement(Ae,{comments:n,author:E}),a.a.createElement(un,{onClick:function(){for(var e=document.querySelector("#commentList"),n=0;n<e.children.length;n++){var t=e.children[n],r=t.getBoundingClientRect();if(!(r.top<1||p&&r.top<41)){t.scrollIntoView(),p&&((document.scrollingElement||document.documentElement).scrollTop-=40);break}}}},a.a.createElement(f.a,null)))};function pn(){var e=Object(m.a)(["\n    color: gray;\n\n    :hover {\n        cursor: pointer;\n        color: white;\n    }\n"]);return pn=function(){return e},e}var bn=p.a.span(pn()),fn=function(e){var n=e.heading,t=e.onReload;return a.a.createElement("h1",{style:{textAlign:"center"}},n," \xa0",a.a.createElement(bn,{onClick:t},"\u21bb"))};function hn(){var e=Object(m.a)(["\n    border-top: none;\n    border-bottom: 1px solid gray;\n"]);return hn=function(){return e},e}function gn(){var e=Object(m.a)(["\n    width: 250px;\n    border-right: 1px solid red;\n    height: 100%;\n    position: fixed;\n    overflow: scroll;\n"]);return gn=function(){return e},e}var vn=p.a.div(gn()),En=Object(p.a)(j)(hn()),Sn=function(){var e=Object(r.useState)(!1),n=Object(u.a)(e,2),t=n[0],c=n[1],o=Object(d.d)((function(e){return e.currentPostId})),i=Object(d.d)((function(e){return e.currentSub}));return t?a.a.createElement(vn,null,a.a.createElement(En,{onClick:function(){c(!1)}},"Back"),a.a.createElement(D,null)):a.a.createElement(vn,null,a.a.createElement(En,{onClick:function(){c(!0)}},"Saved Posts"),a.a.createElement(z,null),"user"===i?a.a.createElement(P,null):o.length>0?a.a.createElement(U,null):a.a.createElement(R,null),a.a.createElement(N,null))},On=function(e){var n=e.location,t=e.history,c=Object(d.c)(),o=Object(r.useState)(0),i=Object(u.a)(o,2),l=i[0],m=i[1],p=Object(d.d)((function(e){return e.posts})),b=Object(d.d)((function(e){return e.currentSort})),f=function(){return c({type:"CLOSE_MENUS"})},h=Object(d.d)((function(e){return e.currentSub})),g=Object(d.d)((function(e){return e.currentPostId})),v=Object(d.d)((function(e){return e.currentUserSort})),E=Object(d.d)((function(e){return e.currentSearch})),S=Object(d.d)((function(e){return e.currentSearchSort})),O=Object(d.d)((function(e){return e.currentSearchSub})),x=Object(d.d)((function(e){return e.searchForSubs})),y=Object(d.d)((function(e){return e.permalinkUrl})),j=Object(d.d)((function(e){return e.showContext})),k=Object(d.d)((function(e){return e.currentUser})),_=function(e){return c({type:"SET_USER",payload:e})},w=Object(s.useMediaQuery)({maxWidth:700}),C=function(e){var n=e.split("/"),t="",r="",a="",c="",o="",i="";return n.length>0&&(t=void 0!==n[1]?n[1]:"",a="comments"===n[2]&&void 0!==n[3]?n[3]:"",r="comments"!==n[2]&&void 0!==n[2]?n[2]:"","comments"!==n[2]&&void 0===n[2]&&(r="hot"),"user"===n[1]&&void 0!==n[3]&&(c=n[3]),"user"===n[1]&&void 0===n[3]&&(c="overview"),"user"===n[1]&&void 0!==n[2]&&(i=n[2],r=""),void 0!==n[4]&&void 0!==n[5]&&(o=n[4]+"/"+n[5])),{sub:t,newSort:r,postId:a,userSort:c,permalinkUrl:o,user:i}}(n.pathname),T=C.sub,M=C.newSort,N=C.postId,R=C.userSort,P=C.permalinkUrl,U=C.user,A=function(e){var n=e.match(/search=([a-zA-Z0-9% ]+)/),t=e.match(/searchSort=(relevance|new)/),r=e.match(/searchSub=(true|false)/),a=e.match(/searchForSubs=(true|false)/);return n=null===n?"":n[1],t=null===t?"relevance":t[1],r=null===r||ce(r[1]),a=null!==a&&ce(a[1]),{search:n=n.replace(/%20/g," "),searchSort:t,searchSub:r,searchForSubs:a}}(n.search),L=A.search,I=A.searchSort,B=A.searchSub,z=A.searchForSubs,D="?context=10000"===n.search;Object(r.useEffect)((function(){var e=localStorage.getItem("saved");e=e?JSON.parse(e):[],c({type:"SET_SAVED",payload:e})}),[]),Object(d.b)((function(){T!==h&&c({type:"SET_SUB",payload:T}),N!==g&&function(e){c({type:"SET_POSTID",payload:e})}(N),R!==v&&function(e){c({type:"SET_USER_SORT",payload:e})}(R),M.length>0&&M!==b&&c({type:"SET_SORT",payload:M}),P!==y&&function(e){c({type:"SET_PERMALINK_URL",payload:e})}(P),D!==j&&function(e){c({type:"SET_SHOW_CONTEXT",payload:e})}(D),U.length>0&&U!==k&&_(U),0===U.length&&M.length>0&&0===N.length&&_(""),N.length>0||g.length>0||(L!==E&&function(e){c({type:"SET_CURRENT_SEARCH",payload:e})}(L),I!==S&&function(e){c({type:"SET_CURRENT_SEARCH_SORT",payload:e})}(I),B!==O&&function(e){c({type:"SET_CURRENT_SEARCH_SUB",payload:e})}(B),z!==x&&function(e){c({type:"SET_SEARCH_FOR_SUBS",payload:e})}(z))})),Object(r.useEffect)((function(){w&&f(),0!==h.length&&(g.length>0&&p.length>0||ie())}),[b,h,k,v,E,S,O,x]),Object(r.useEffect)((function(){0===g.length&&window.scrollTo(0,l),f()}),[g]);var H=Object(r.useCallback)((function(e){return function(n){var r=window.pageYOffset||document.documentElement.scrollTop;m((function(e){return r})),t.push(e)}}),[]);if(T!==h||N!==g||R!==v||M.length>0&&M!==b)return a.a.createElement("div",null);if(0===h.length){var F="",Z=localStorage.getItem("subs");return F=(Z=Z?JSON.parse(Z):[]).length>0?Z[0]:"Popular",t.push("/".concat(F,"/").concat(b)),a.a.createElement("div",null)}var W=function(){g.length>0?ue():ie(!1,!0)},G=function(){var e=h;return x&&(e="Searching: ".concat(E)),"user"===h&&(e="".concat(k)),a.a.createElement(a.a.Fragment,null,a.a.createElement(fn,{heading:e,onReload:W}),g.length>0?a.a.createElement(mn,null):null,a.a.createElement(Qe,{onClickLink:H}))};return w?a.a.createElement("div",{style:{height:"100%",overflow:"hidden"}},a.a.createElement(V,{onBackClick:function(){t.goBack()}}),a.a.createElement("div",{style:{marginTop:"50px"}}),G()):a.a.createElement("div",{style:{display:"flex",height:"100%"}},a.a.createElement("div",null,a.a.createElement(Sn,null)),a.a.createElement("div",{style:{width:"calc(100% - 250px)",height:"100%",overflow:"scroll",marginLeft:"250px",position:"relative"},id:"mainPage"},G()))},xn=function(){return a.a.createElement(i.a,null,a.a.createElement(l.a,{path:"/",component:On}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(d.a,{store:ne},a.a.createElement(xn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.bdebdfd7.chunk.js.map