(this["webpackJsonpnew-reddit"]=this["webpackJsonpnew-reddit"]||[]).push([[0],{39:function(e,n,t){e.exports=t(52)},44:function(e,n,t){},52:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),o=t(20),c=t.n(o),i=(t(44),t(8)),l=t(15),u=t(7),d=t(21),s=t(2),m=t(3),p=t(4),b=t(18),f=t(11);function h(){var e=Object(m.a)(["\n    display: flex;\n\n    & > a {\n        flex-grow: 1;\n    }\n\n    & > a.selected, & > button.selected {\n        background-color: gray;\n    }\n\n    & > label {\n        border-left: 1px solid gray;\n    }\n\n    & > *:last-child {\n        border-left: 1px solid gray;\n    }\n\n    & > *:first-child {\n        border-left: none;\n    }\n"]);return h=function(){return e},e}var g=p.a.div(h());function E(){var e=Object(m.a)(["\n    text-align: center;\n    position: relative;\n\n    & *:focus {\n        outline: none;\n    }\n\n    & * {\n        color: white;\n    }\n\n    & a, & label {\n        width: 100%;\n        display: block;\n        padding: 5px;\n        min-height: 29px;\n        border-top: 1px solid gray;\n    }\n\n    & a:hover {\n        background-color: gray;\n    }\n\n    & a.active, & > a.selected {\n        background-color: gray;\n    }\n\n    & > a:last-of-type, & > button:last-of-type {\n        border-bottom: 1px solid gray;\n    }\n\n    & > div:last-child > * {\n        border-bottom: 1px solid gray;\n    }\n\n    @media screen and (max-device-width: 600px){\n        & div:last-child > * {\n            border-bottom: none;\n        }   \n    }\n"]);return E=function(){return e},e}var v=p.a.div(E());function S(){var e=Object(m.a)(['\n    cursor: text;\n    padding: 5px 10px;\n    flex-grow: 1;\n    width: 100%;\n    margin: 0px;\n    background-color: black;\n    border: none;\n    font-size: 1em;\n    text-align: center;\n    border-top: 1px solid gray;\n    border-radius: 0px;\n\n    &[type="checkbox"] {\n        -webkit-appearance:none;\n        appearance: none;\n        width:30px;\n        height:30px;\n        background:white;\n        border-radius:0px;\n        border:1px solid gray;\n        border-right: none;\n        border-left: none;\n\n        :checked {\n            background-color: green;\n        }\n\n        :hover {\n            cursor: pointer;\n        }\n    }\n']);return S=function(){return e},e}var O=p.a.input(S());function x(){var e=Object(m.a)(["\n    background-color: black;\n    border: none;\n    text-align: center;\n    padding: 5px;\n    font-size: 1em;\n    width: 100%;\n    margin: 0px;\n    border-top: 1px solid gray;\n\n    ",";\n\n    &:hover {\n        cursor: pointer;\n        background-color: gray;\n    }\n"]);return x=function(){return e},e}var y=p.a.button(x(),(function(e){return e.selected?"background-color: gray;":""}));function j(){var e=Object(m.a)(["\n    border-left: 1px solid gray;\n    min-width: 60px;\n    width: auto;\n"]);return j=function(){return e},e}var k=Object(p.a)(y)(j());function _(){var e=Object(m.a)(["\n    padding: 5px;\n    font-size: 1.3em;\n    position: absolute;\n    right: 10px;\n    top: -5px;\n\n    :hover {\n        cursor: pointer;\n    }\n"]);return _=function(){return e},e}var w=p.a.div(_()),T=function(e,n){return 0===n.length||("Popular"===n||("All"===n||("My Subreddits"===n||!!e.includes(n))))},C=function(){var e=Object(s.d)((function(e){return e.currentSub})),n=Object(s.d)((function(e){return e.currentSort})),t=Object(r.useState)([]),o=Object(u.a)(t,2),c=o[0],l=o[1],d=Object(r.useState)(!1),m=Object(u.a)(d,2),p=m[0],h=m[1],E=Object(r.useState)(""),S=Object(u.a)(E,2),x=S[0],j=S[1];Object(r.useEffect)((function(){var e=localStorage.getItem("subs");0===(e=e?JSON.parse(e):[]).length&&h(!0),l(e)}),[]);var _=function(e){return function(){var n=c.filter((function(n){return n!==e}));l(n),localStorage.setItem("subs",JSON.stringify(n))}},C=function(e,n){var t=[].concat(Object(b.a)(e),[n]);l(t),j(""),localStorage.setItem("subs",JSON.stringify(t))};return a.a.createElement(v,null,a.a.createElement("h3",null,"General"),a.a.createElement(i.b,{to:"/My Subreddits/".concat(n),className:"My Subreddits"===e?"selected":""},"My Subreddits"),a.a.createElement(i.b,{to:"/Popular/".concat(n),className:"Popular"===e?"selected":""},"Popular"),a.a.createElement(i.b,{to:"/All/".concat(n),className:"All"===e?"selected":""},"All"),a.a.createElement("h3",null,"Subs"),a.a.createElement(w,{onClick:function(){h(!p)}},a.a.createElement(f.b,null)),c.map((function(t){return a.a.createElement(g,{key:"sub-"+t},a.a.createElement(i.b,{to:"/".concat(t,"/").concat(n),className:t===e?"selected":""},t),p?a.a.createElement(k,{className:"subBtn",onClick:_(t)},a.a.createElement(f.f,null)):null)})),p?a.a.createElement(g,null,a.a.createElement(O,{type:"text",placeholder:"New Sub",onChange:function(e){j(e.target.value)},value:x}),a.a.createElement(k,{onClick:function(){0!==x.length&&C(c,x)}},"Add")):null,T(c,e)?null:a.a.createElement(y,{onClick:function(){C(c,e)}},"Add Current Sub"))},M=function(){var e=Object(s.d)((function(e){return e.currentSub})),n=Object(s.d)((function(e){return e.currentSort}));return a.a.createElement(v,null,a.a.createElement("h3",null,"Sort Posts"),["hot","new","rising","controversial","top"].map((function(t){return a.a.createElement(g,{key:"sort-"+t},a.a.createElement(i.b,{to:"/".concat(e,"/").concat(t),className:t===n?"selected":"",style:{textTransform:"capitalize"}},t))})))},P=function(){var e=Object(s.c)(),n=Object(s.d)((function(e){return e.commentSort})),t=function(n){return function(){e({type:"CLOSE_MENUS"}),function(n){e({type:"SET_COMMENT_SORT",payload:n})}(n)}};return a.a.createElement(v,null,a.a.createElement("h3",null,"Sort Comments"),[{display:"Best",value:"confidence"},{display:"New",value:"new"},{display:"Top",value:"top"},{display:"Controversial",value:"controversial"},{display:"Q&A",value:"qa"}].map((function(e){return a.a.createElement(g,{key:"commentSort-"+e.value},a.a.createElement(y,{className:e.value===n?"selected":"",onClick:t(e.value)},e.display))})))},N=t(27);function R(){var e=Object(m.a)(["\n    display: inline-block;\n    font-size: 1.5em;\n    border-top: 1px solid gray;\n\n    & > svg {\n        position: relative;\n        top: 2px;\n    }\n\n    :hover {\n        cursor: pointer;\n    }\n"]);return R=function(){return e},e}var L=p.a.div(R()),A=function(e){var n=e.checked,t=e.onClick;return a.a.createElement(L,{onClick:t},n?a.a.createElement(N.a,null):a.a.createElement(N.b,null))},I=function(){var e=Object(s.c)(),n=Object(l.e)(),t=function(){return e({type:"CLOSE_MENUS"})},o=Object(s.d)((function(e){return e.currentSub})),c=Object(s.d)((function(e){return e.currentSort})),i=Object(s.d)((function(e){return e.currentSearch})),d=Object(r.useState)(i),m=Object(u.a)(d,2),p=m[0],b=m[1],f=Object(s.d)((function(e){return e.currentSearchSort})),h=Object(r.useState)(f),E=Object(u.a)(h,2),S=E[0],x=E[1],j=Object(s.d)((function(e){return e.currentSearchSub})),_=Object(r.useState)(j),w=Object(u.a)(_,2),T=w[0],C=w[1],M=function(){t(),n.push("/".concat(o,"/").concat(c,"?search=").concat(p,"&searchSort=").concat(S,"&searchSub=").concat(T,"&searchForSubs=",!1))};return a.a.createElement(v,null,a.a.createElement("h3",null,"Search"),a.a.createElement(g,null,a.a.createElement(O,{type:"text",placeholder:"Search",onChange:function(e){return b(e.target.value)},value:p,onKeyPress:function(e){"Enter"===e.key&&M()}}),a.a.createElement(k,{onClick:M},"Search")),a.a.createElement(g,null,a.a.createElement(A,{checked:T,onClick:function(){return C(!T)}}),a.a.createElement("label",{style:{width:"100%"}},"This Sub Only")),a.a.createElement(g,null,a.a.createElement(y,{selected:"new"===S,onClick:function(){return x("new")}},"New"),a.a.createElement(y,{selected:"relevance"===S,onClick:function(){return x("relevance")}},"Relevant")),a.a.createElement(g,null,a.a.createElement(y,{onClick:function(){t(),n.push("/".concat(o,"/").concat(c,"?search=").concat(p,"&searchSort=").concat(S,"&searchSub=").concat(T,"&searchForSubs=",!0))}},"Search Subs"),a.a.createElement(y,{onClick:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!==p.length&&(b(""),C(!0),x("relevance"),n.push("/".concat(o,"/").concat(c)))}},"Clear Search")))};function B(){var e=Object(m.a)(["\n    position: fixed;\n    width: 250px;\n    background-color: black;\n    z-index: 5;\n    top: 35px;\n    border-right: 1px solid red;\n    border-bottom: 1px solid red;\n    max-height: calc(100% - 50px);\n    overflow: scroll;\n    ",";\n"]);return B=function(){return e},e}function U(){var e=Object(m.a)(["\n    display: inline-block;\n    padding: 8px;\n    border-right: 1px solid gray;\n    min-width: 50px;\n    text-align: center;\n    background-color: ",";\n"]);return U=function(){return e},e}function H(){var e=Object(m.a)(["\n    border-bottom: 1px solid red;\n    position: fixed;\n    width: 100%;\n    background-color: black;\n    z-index: 6;\n\n    & > div:last-child,  & > div:nth-last-child(2){\n        float: right;\n        border-right: none;\n        border-left: 1px solid gray;\n    }\n"]);return H=function(){return e},e}var z=p.a.div(H()),F=p.a.div(U(),(function(e){return e.selected?"gray":"none"})),D=p.a.div(B(),(function(e){return e.right?"right: 0px; border-left: 1px solid red; border-right: none;":""})),J=function(e){var n=e.onBackClick,t=Object(s.c)(),r=Object(s.d)((function(e){return e.searchMenuOpen})),o=Object(s.d)((function(e){return e.subMenuOpen})),c=Object(s.d)((function(e){return e.sortMenuOpen})),i=Object(s.d)((function(e){return e.currentPostId}));return a.a.createElement(a.a.Fragment,null,a.a.createElement(z,null,a.a.createElement(F,{onClick:function(){return t(o?{type:"CLOSE_SUBS"}:{type:"OPEN_SUBS"})},selected:o},"Subs"),i.length>0?a.a.createElement(F,{onClick:n},"Back"):null,a.a.createElement(F,{onClick:function(){return t(c?{type:"CLOSE_SORT"}:{type:"OPEN_SORT"})},selected:c},"Sort"),a.a.createElement(F,{onClick:function(){return t(r?{type:"CLOSE_SEARCH"}:{type:"OPEN_SEARCH"})},selected:r},"Search")),o?a.a.createElement(D,null,a.a.createElement(C,null)):null,c&&0===i.length?a.a.createElement(D,{right:!0},a.a.createElement(M,null)):null,c&&i.length>0?a.a.createElement(D,{right:!0},a.a.createElement(P,null)):null,r?a.a.createElement(D,{right:!0},a.a.createElement(I,null)):null)},W=t(37),G=t(19),q=t.n(G),$=t(28),Q=t(22),K=t(6),V={currentSub:"",currentSort:"hot",currentPostId:"",postDetails:{},posts:[],noPosts:!1,noMorePosts:!1,latestPost:"",comments:[],noComments:!1,commentSort:"new",sortMenuOpen:!1,searchMenuOpen:!1,subMenuOpen:!1,currentSearch:"",currentSearchSort:"relevance",currentSearchSub:!0,searchForSubs:!1},Y=Object(Q.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.payload;switch(n.type){case"SET_SUB":return Object(K.a)({},e,{currentSub:t});case"SET_SORT":return Object(K.a)({},e,{currentSort:t});case"SET_POSTID":return Object(K.a)({},e,{currentPostId:t});case"SET_POSTS":return Object(K.a)({},e,{posts:t});case"SET_POST_DETAILS":return Object(K.a)({},e,{postDetails:t});case"CLEAR_SEARCH":return Object(K.a)({},e,{currentSearch:"",currentSearchSort:"relevance",currentSearchSub:!0,searchMenuOpen:!1});case"OPEN_SEARCH":return Object(K.a)({},e,{searchMenuOpen:!0,sortMenuOpen:!1,subMenuOpen:!1});case"CLOSE_SEARCH":return Object(K.a)({},e,{searchMenuOpen:!1});case"OPEN_SUBS":return Object(K.a)({},e,{subMenuOpen:!0,sortMenuOpen:!1,searchMenuOpen:!1});case"CLOSE_SUBS":return Object(K.a)({},e,{subMenuOpen:!1});case"OPEN_SORT":return Object(K.a)({},e,{sortMenuOpen:!0,subMenuOpen:!1,searchMenuOpen:!1});case"CLOSE_SORT":return Object(K.a)({},e,{sortMenuOpen:!1});case"CLOSE_MENUS":return Object(K.a)({},e,{sortMenuOpen:!1,searchMenuOpen:!1,subMenuOpen:!1});case"SET_CURRENT_SEARCH":return Object(K.a)({},e,{currentSearch:t});case"SET_CURRENT_SEARCH_SORT":return Object(K.a)({},e,{currentSearchSort:t});case"SET_CURRENT_SEARCH_SUB":return Object(K.a)({},e,{currentSearchSub:t});case"SET_SEARCH_FOR_SUBS":return Object(K.a)({},e,{searchForSubs:t});case"SET_NO_POSTS":return Object(K.a)({},e,{noPosts:t});case"SET_LATEST_POST":return Object(K.a)({},e,{latestPost:t});case"SET_NO_MORE_POSTS":return Object(K.a)({},e,{noMorePosts:t});case"SET_COMMENTS":return Object(K.a)({},e,{comments:t});case"SET_NO_COMMENTS":return Object(K.a)({},e,{noComments:t});case"SET_COMMENT_SORT":return Object(K.a)({},e,{commentSort:t});default:return e}})),Z=function e(n){var t=n.body_html,r=n.id,a=n.author,o=n.permalink,c=n.replies,i=n.score;return{body_html:t=X(t),id:r,author:a,permalink:o,replies:c=(c="object"===typeof c?c.data.children:[]).map((function(n){return e(n.data)})),score:i}},X=function(e){return e=e?e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;#39;/g,"'").replace(/&amp;quot;/g,'"').replace(/&amp;/g,"&").replace(/&#x200B;/g," "):""},ee=function(e){return"true"===e},ne=function(e){var n="",t=localStorage.getItem("subs");return n=e+(t=t?JSON.parse(t):[]).join("+"),0===t.length&&(n=e+"All"),n},te=function(){var e=Object($.a)(q.a.mark((function e(){var n,t,r,a,o,c,i,l,u,d,m,p,f,h,g,E,v,S,O,x,y=arguments;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=y.length>0&&void 0!==y[0]&&y[0],t=Y.getState(),r=t.posts,a=t.currentSub,o=t.currentSort,c=t.currentSearch,i=t.currentSearchSort,l=t.currentSearchSub,u=t.latestPost,d=t.searchForSubs,m=function(e){return Y.dispatch({type:"SET_LATEST_POST",payload:e})},p=function(e){return Y.dispatch({type:"SET_POSTS",payload:e})},f=function(e){return Y.dispatch({type:"SET_NO_POSTS",payload:e})},h=function(e){return Y.dispatch({type:"SET_NO_MORE_POSTS",payload:e})},0!==a.length){e.next=9;break}return e.abrupt("return");case 9:return a.length>0&&(a="r/"+a),n||(p([]),f(!1),h(!1)),"r/My Subreddits"===a&&(a=ne("r/")),e.prev=12,g="https://www.reddit.com/".concat(a,"/").concat(o,"/.json"),n&&(g+="?after=t3_".concat(u)),c.length>0&&(E=c.split(" ").join("+"),g=d?"https://www.reddit.com/".concat(a,"/search.json?q=").concat(E,"&include_over_18=on&sort=relevance&type=sr"):"https://www.reddit.com/".concat(a,"/search.json?q=").concat(E).concat(l?"&restrict_sr=on":"","&include_over_18=on&sort=").concat(i),n&&(g+=d?"&after=t5_".concat(u):"&after=t3_".concat(u))),0===a.length&&(g="https://www.reddit.com/.json"),e.next=19,fetch(g);case 19:return v=e.sent,e.next=22,v.json();case 22:(S=e.sent).error?(console.log("Getting Post List - Error: ",S.error),n||Object(s.b)((function(){f(!0),p([])}))):S&&S.data&&S.data.children&&(O=S.data.children.map((function(e){var n=e.data,t=n.media;return t=t&&t.oembed?X(t.oembed.html):"","t5"===e.kind?{id:n.id,type:"sub",title:X(n.title),subName:n.display_name,description:X(n.description_html),created:n.created_utc,subscribers:n.subscribers}:{type:"post",created:n.created_utc,author:n.author,domain:n.domain,title:X(n.title),id:n.id,body:X(n.selftext_html),num_comments:n.num_comments,score:n.score,subreddit:n.subreddit,stickied:n.stickied,url:n.url,thumbnail:n.thumbnail,permalink:n.permalink,media:t}})),x=0===O.length,n&&(O=[].concat(Object(b.a)(r),Object(b.a)(O))),Object(s.b)((function(){x||m(O[O.length-1].id),p(O),x&&h(!0),x&&!n&&f(!0)}))),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(12),console.log("Getting Post List - URL Error: ",e.t0),n||Object(s.b)((function(){f(!0),p([])}));case 30:case"end":return e.stop()}}),e,null,[[12,26]])})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object($.a)(q.a.mark((function e(){var n,t,r,a,o,c,i,l,u,d,m,p,b,f,h,g,E,v,S,O;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Y.getState(),t=n.currentSub,r=n.currentPostId,a=n.commentSort,o=function(e){return Y.dispatch({type:"SET_COMMENTS",payload:e})},c=function(e){return Y.dispatch({type:"SET_NO_COMMENTS",payload:e})},i=function(e){return Y.dispatch({type:"SET_POST_DETAILS",payload:e})},0!==r.length){e.next=7;break}return e.abrupt("return");case 7:return o([]),c(!1),"My Subreddits"===t&&(t=ne()),l="".concat(t,"/comments/").concat(r,"/"),e.prev=11,e.next=14,fetch("https://www.reddit.com/r/".concat(l,".json?sort=").concat(a));case 14:return u=e.sent,e.next=17,u.json();case 17:(d=e.sent).error?console.log("Getting Comments - Error: ",d.error):(m=d[0].data.children[0].data,p=m.title,b=m.selftext_html,f=m.id,h=m.url,g=m.media,E=m.author,v=m.created_utc,S=m.permalink,O=d[1].data.children.map((function(e){return Z(e.data)})),Object(s.b)((function(){i({id:f,url:h,title:p,author:E,created:v,body:X(b),media:g,permalink:S}),o(O),0===O.length&&c(!0)}))),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(11),console.log("Getting Comments - URL Error: ",e.t0);case 24:case"end":return e.stop()}}),e,null,[[11,21]])})));return function(){return e.apply(this,arguments)}}(),ae=t(53);function oe(){var e=Object(m.a)(["\n    padding: 5px;\n    overflow: hidden;\n\n    & img {\n        max-width: 95%;\n        max-height: 900px;\n    }\n\n    & iframe {\n        max-width: 100%;\n        margin: auto;\n        display: block;\n    }\n"]);return oe=function(){return e},e}function ce(){var e=Object(m.a)(["\n    font-size: 0.9em;\n    display: inline-block;\n    margin-bottom: 10px;\n    cursor: pointer;\n\n    & > span > svg {\n        position: relative;\n        top: 2px;\n        margin-left: 2px;\n    }\n"]);return ce=function(){return e},e}function ie(){var e=Object(m.a)(["\n    display: inline-flex;\n    position: relative;\n    float: right;\n    border-bottom: 1px solid ",";\n    border-left: 1px solid ",";\n    color: gray;\n    width: 32px;\n    height: 32px;\n\n    & > svg {\n        margin: auto;\n    }\n\n    &:hover {\n        cursor: pointer;\n        color: white;\n    }\n"]);return ie=function(){return e},e}function le(){var e=Object(m.a)(["\n    font-size: 0.9em;\n    color: gray;\n    margin-top: 5px;\n    margin-bottom: 5px;\n\n    & a {\n        color: gray;\n    }\n"]);return le=function(){return e},e}function ue(){var e=Object(m.a)(["\n    margin-top: 10px;\n    padding-right: 5px;\n\n    & :hover {\n        cursor: pointer;\n    }\n\n    @media screen and (max-device-width: 600px){\n        font-size: 0.9em;\n    }\n"]);return ue=function(){return e},e}function de(){var e=Object(m.a)(["\n    display: flex;\n    flex-direction: column; \n    height: 100%;\n    align-content: center;\n\n    & > div {\n        margin-top: auto;\n        margin-bottom: auto;\n    }\n"]);return de=function(){return e},e}function se(){var e=Object(m.a)(["\n    min-width: 70px;\n    max-width: 70px;\n    max-height: 70px;\n    overflow: hidden;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-right: 10px;\n    margin-bottom: 10px;\n    margin-top: 10px;\n\n    & > img {\n        height: 70px;\n        width: auto;\n        margin: auto;\n    }\n"]);return se=function(){return e},e}function me(){var e=Object(m.a)(["\n    border: 1px solid ",";\n    padding: 0px 0px 0px 10px;\n    margin: 5px auto;\n    width: 95%;\n    max-width: 1200px;\n    display: flex;\n    position: relative;\n"]);return me=function(){return e},e}var pe=p.a.div(me(),(function(e){return e.stickied?"#50ec11":"red"})),be=p.a.div(se()),fe=p.a.div(de()),he=p.a.div(ue()),ge=p.a.div(le()),Ee=p.a.div(ie(),(function(e){return e.stickied?"#50ec11":"red"}),(function(e){return e.stickied?"#50ec11":"red"})),ve=p.a.div(ce()),Se=p.a.div(oe()),Oe=a.a.memo((function(e){var n=e.post,t=e.onClickLink,o=e.currentSub,c=e.currentSort,l=Object(r.useState)(!1),d=Object(u.a)(l,2),s=d[0],m=d[1];if(void 0===n)return a.a.createElement("span",null);var p=Object(ae.a)(new Date,1e3*n.created),b=!1;!0===/(.jpg|.png|.bmp|.jpeg)/.test(n.thumbnail)&&(b=!0),n.body=n.body.replace(/<a/g,'<a target="_blank" rel="noopener noreferrer"');var h=a.a.createElement(Se,{dangerouslySetInnerHTML:{__html:n.body}}),g=!1;n.url.match(/.(jpg|png)$/)&&(h=a.a.createElement(Se,null,a.a.createElement("img",{src:n.url,alt:"Preview user linked to"})),g=!0),n.media.length>0&&(n.body.length>0&&(n.media+="<br/>"+n.body),h=a.a.createElement(Se,{dangerouslySetInnerHTML:{__html:n.media}}),g=!0);var E=!0;0===n.body.length&&!1===g&&(E=!1);var v=!!n.stickied;return a.a.createElement(pe,{stickied:v},b?a.a.createElement(be,null,a.a.createElement("img",{src:n.thumbnail,alt:"Thumbnail"})):null,a.a.createElement("div",{style:b?{width:"100%",maxWidth:"calc(100% - 80px)"}:{width:"100%",maxWidth:"100%"}},E?a.a.createElement(Ee,{onClick:function(){m(!s)},stickied:v},s?a.a.createElement(f.c,null):a.a.createElement(f.d,null)):null,a.a.createElement(fe,null,a.a.createElement("div",null,a.a.createElement(he,null,a.a.createElement("span",{onClick:t("/".concat(o,"/comments/").concat(n.id))},n.title)),a.a.createElement(ge,null,a.a.createElement(i.b,{to:"/".concat(n.subreddit,"/").concat(c)},n.subreddit)," - ",a.a.createElement("span",null,a.a.createElement("a",{href:n.url,target:"_blank",rel:"noreferrer noopener"},n.domain))," - ",a.a.createElement("span",null,p)),s?h:null,a.a.createElement("div",null,a.a.createElement(ve,null,a.a.createElement("span",{onClick:t("/".concat(o,"/comments/").concat(n.id))},n.num_comments," ",a.a.createElement(f.e,null))),a.a.createElement("span",{style:{marginLeft:"15px"}},a.a.createElement("a",{href:"https://www.reddit.com/".concat(n.permalink),target:"_blank",rel:"noreferrer noopener"},"Open on Reddit")))))))}),(function(e,n){return e.post.id===n.post.id}));function xe(){var e=Object(m.a)(["\n    display: inline-flex;\n    position: relative;\n    float: right;\n    border-bottom: 1px solid ",";\n    border-left: 1px solid ",";\n    color: gray;\n    width: 32px;\n    height: 32px;\n\n    & > svg {\n        margin: auto;\n    }\n\n    &:hover {\n        cursor: pointer;\n        color: white;\n    }\n"]);return xe=function(){return e},e}function ye(){var e=Object(m.a)(["\n    font-size: 0.9em;\n    color: gray;\n    margin-top: 5px;\n    margin-bottom: 5px;\n\n    & a {\n        color: gray;\n    }\n"]);return ye=function(){return e},e}function je(){var e=Object(m.a)(["\n    margin-top: 10px;\n    padding-right: 5px;\n\n    & :hover {\n        cursor: pointer;\n    }\n\n    @media screen and (max-device-width: 600px){\n        font-size: 0.9em;\n    }\n"]);return je=function(){return e},e}function ke(){var e=Object(m.a)(["\n    display: flex;\n    flex-direction: column; \n    height: 100%;\n    align-content: center;\n\n    & > div {\n        margin-top: auto;\n        margin-bottom: auto;\n    }\n"]);return ke=function(){return e},e}function _e(){var e=Object(m.a)(["\n    border: 1px solid ",";\n    padding: 0px 0px 0px 10px;\n    margin: 5px auto;\n    width: 95%;\n    max-width: 1200px;\n    display: flex;\n    position: relative;\n"]);return _e=function(){return e},e}var we=p.a.div(_e(),(function(e){return e.stickied?"#50ec11":"red"})),Te=p.a.div(ke()),Ce=p.a.div(je()),Me=p.a.div(ye()),Pe=p.a.div(xe(),(function(e){return e.stickied?"#50ec11":"red"}),(function(e){return e.stickied?"#50ec11":"red"})),Ne=function(e){var n=e.sub,t=Object(r.useState)(!1),o=Object(u.a)(t,2),c=o[0],l=o[1];if(void 0===n)return a.a.createElement("span",null);var d=Object(ae.a)(new Date,1e3*n.created);n.description=n.description.replace(/<a/g,'<a target="_blank" rel="noopener noreferrer"');var s=!0;return 0===n.description.length&&(s=!1),a.a.createElement(we,null,a.a.createElement("div",{style:{width:"100%",maxWidth:"100%"}},s?a.a.createElement(Pe,{onClick:function(){l(!c)}},c?a.a.createElement(f.c,null):a.a.createElement(f.d,null)):null,a.a.createElement(Te,null,a.a.createElement("div",null,a.a.createElement(Ce,null,a.a.createElement(i.b,{to:"/".concat(n.subName)},n.title)),a.a.createElement(Me,null,a.a.createElement("span",null,n.subscribers," members")," - ",a.a.createElement("span",null,d)),c?a.a.createElement("span",{dangerouslySetInnerHTML:{__html:n.description}}):null))))};function Re(){var e=Object(m.a)(["\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    border: 3px solid red;\n    border-top: 0px;\n    border-bottom: 0px;\n    margin: auto;\n    margin-top:40px;\n    position: relative;\n    animation-name: rotate;\n    animation-duration: 1s;\n    animation-iteration-count: infinite;\n    animation-timing-function: linear;\n\n    &:after {\n        content:'';\n        display: block;\n        position: absolute;\n        top: 2px;\n        left: 2px;\n        width: 40px;\n        height: 40px;\n        border-radius: 50%;\n        border: 3px solid red;\n        border-left: 0px;\n        border-right: 0px;\n        margin: auto;\n        animation-name: rotate;\n        animation-duration: 0.5s;\n        animation-iteration-count: infinite;\n        animation-timing-function: linear;\n        animation-direction: reverse;\n    }\n\n    &:before {\n        content:'';\n        display: block;\n        position: absolute;\n        top: 10px;\n        left: 4px;\n        width: 30px;\n        height: 30px;\n        border-radius: 50%;\n        border: 3px solid red;\n        border-top: 0px;\n        border-bottom: 0px;\n        margin: auto;\n        animation-name: rotate;\n        animation-duration: 1s;\n        animation-iteration-count: infinite;\n        animation-timing-function: linear;\n    }\n\n    @keyframes rotate {\n        from {\n            transform: rotate(0deg);\n        }\n        \n        to {\n            transform: rotate(360deg);\n        }\n    }\n"]);return Re=function(){return e},e}var Le=p.a.div(Re()),Ae=function(e){var n=e.onClickLink,t=Object(s.d)((function(e){return e.posts})),r=Object(s.d)((function(e){return e.noPosts})),o=Object(s.d)((function(e){return e.currentSub})),c=Object(s.d)((function(e){return e.currentSort})),i=Object(s.d)((function(e){return e.currentPostId})),l=Object(s.d)((function(e){return e.noMorePosts}));if(r)return a.a.createElement("div",{style:{textAlign:"center"}},"No Posts Found");if(0===t.length&&0===i.length)return a.a.createElement("div",null,a.a.createElement(Le,null));var u=i.length>0,d=u?"absolute":"relative",m=u?"-1000000px":"0px",p=u?"-20000px":"0px",b=!u&&!l;return a.a.createElement("div",{style:{margin:"auto",position:d,top:m,right:p,marginBottom:"20px"}},a.a.createElement(W.a,{dataLength:t.length,next:function(){return te(!0)},hasMore:b,loader:a.a.createElement("div",{style:{textAlign:"center",margin:"10px"}},"Loading More..."),scrollableTarget:"#mainPage",scrollThreshold:"500px"},t.map((function(e){return"sub"===e.type?a.a.createElement(Ne,{key:e.id,sub:e}):a.a.createElement(Oe,{key:e.id,post:e,currentSub:o,currentSort:c,onClickLink:n})})),l?a.a.createElement("div",{style:{textAlign:"center",margin:"10px"}},"No More Posts"):null))};function Ie(){var e=Object(m.a)(["\n    font-size: 0.8em;\n    margin-bottom: 5px;\n    \n    & > a {\n        color: gray;\n    }\n"]);return Ie=function(){return e},e}function Be(){var e=Object(m.a)(["\n    ",";\n"]);return Be=function(){return e},e}function Ue(){var e=Object(m.a)(["\n    :hover {\n        cursor: pointer;\n    }\n"]);return Ue=function(){return e},e}function He(){var e=Object(m.a)(["\n    padding: 5px;\n    padding-bottom: 0px;\n    border-left: 1px solid red;\n    border-top: 1px solid red;\n    margin-bottom: 0px;\n\n    & a {\n        color: rgb(0, 225, 255);\n    }\n"]);return He=function(){return e},e}var ze=p.a.div(He()),Fe=p.a.span(Ue()),De=p.a.span(Be(),(function(e){return e.original?"\n        color: #059afe; \n        font-weight: bold;\n    ":""})),Je=p.a.div(Ie()),We=function(e){var n=e.replace(/<a/g,'<a target="_blank" rel="noopener noreferrer"');return n=(n=n.replace(/href="\/u/g,'href="https://www.reddit.com/$1')).replace(/target="_blank" rel="noopener noreferrer" href="\/r/g,'href="#')},Ge=function(e){var n=e.comment,t=e.author,o=Object(r.useState)(!1),c=Object(u.a)(o,2),i=c[0],l=c[1],d="";n.replies.length>0&&(d=a.a.createElement(Qe,{comments:n.replies,author:t}));var s=We(n.body_html);return a.a.createElement(ze,null,a.a.createElement(Fe,{onClick:function(){l(!i)}},i?"[ + ] ":"[ - ] "),a.a.createElement(De,{original:n.author===t},n.author),a.a.createElement("span",{style:{color:"gray"}}," | ",n.score),i?null:a.a.createElement("div",{dangerouslySetInnerHTML:{__html:s}}),i?null:a.a.createElement(Je,null,a.a.createElement("a",{href:"https://www.reddit.com/".concat(n.permalink),target:"_blank",rel:"noreferrer noopener"},"Permalink")),i?null:d)};function qe(){var e=Object(m.a)(["\n    margin-top: 10px;\n\n    & > div {\n        margin-bottom: 5px;\n    }\n"]);return qe=function(){return e},e}var $e=p.a.div(qe()),Qe=function(e){var n=e.comments,t=e.author;return 0===n.length?null:a.a.createElement($e,{id:"commentList"},n.map((function(e){return a.a.createElement(Ge,{key:e.id,comment:e,author:t})})))};function Ke(){var e=Object(m.a)(["\n    position: fixed;\n    bottom: 10px;\n    right: 10px;\n    width: 50px;\n    height: 50px;\n    border: 1px solid red;\n    background-color: black;\n    border-radius: 50%;\n    text-align: center;\n\n    & > svg {\n        position: relative;\n        top: 10px;\n        font-size: 2em;\n    }\n\n    :hover {\n        cursor: pointer;\n        background-color: gray;\n    }\n"]);return Ke=function(){return e},e}function Ve(){var e=Object(m.a)(["\n    border-bottom: 1px solid gray;\n    margin-bottom: 5px;\n    padding-bottom: 10px;\n\n    & pre {\n        overflow: scroll;\n    }\n\n    & > img {\n        max-width: 100%;\n        margin-top: 10px;\n    }\n    \n    & iframe {\n        max-width: 100%;\n        margin: auto;\n        display: block;\n    }\n\n    & a {\n     color: rgb(0, 225, 255);\n    }\n\n    & h1 {\n        font-size: 1.2em;\n    }\n\n    & h2 {\n        font-size: 1.1em;\n    }\n\n    & h3 {\n        font-size: 1em;\n    }\n"]);return Ve=function(){return e},e}function Ye(){var e=Object(m.a)(["\n    color: gray;\n    text-align: left;\n    margin-bottom: 5px;\n\n    & a {\n        color: gray;\n    }\n"]);return Ye=function(){return e},e}function Ze(){var e=Object(m.a)(["\n    background-color: black;\n    padding: 20px;\n    width: 100%;\n    max-width: 1200px;\n    margin: auto;\n\n    & h1 {\n        text-align: left;\n        margin-bottom: 10px;\n    }\n"]);return Ze=function(){return e},e}var Xe=p.a.div(Ze()),en=p.a.div(Ye()),nn=p.a.div(Ve()),tn=p.a.div(Ke()),rn=function(e,n,t){e=(e=(e=e.replace(/<a/g,'<a target="_blank" rel="noopener noreferrer"')).replace(/href="\/u/g,'href="https://www.reddit.com/$1')).replace(/target="_blank" rel="noopener noreferrer" href="\/r/g,'href="#');var r=a.a.createElement(nn,{dangerouslySetInnerHTML:{__html:e},className:"postDivBody"});return/.(png|jpg|jpeg|bmp)$/.test(n)&&(r=a.a.createElement(nn,null,a.a.createElement("img",{src:n,alt:"Preview of content"}))),t&&t.oembed?(t=X(t.oembed.html),e.length>0&&(t+="<br/>"+e),r=a.a.createElement(nn,{dangerouslySetInnerHTML:{__html:t},className:"postDivBody"})):t="",r},an=function(){var e=Object(s.d)((function(e){return e.comments})),n=Object(s.d)((function(e){return e.noComments})),t=Object(s.d)((function(e){return e.postDetails})),o=Object(s.d)((function(e){return e.currentPostId})),c=Object(s.d)((function(e){return e.commentSort})),i=Object(d.useMediaQuery)({maxWidth:700});if(Object(r.useEffect)((function(){!function(){var e=Y.getState().posts,n=Y.getState().currentPostId,t=function(e){return Y.dispatch({type:"SET_POST_DETAILS",payload:e})},r=void 0;n.length>0&&(r=e.find((function(e){return e.id===n}))),t(void 0===r?{}:r)}(),re(),window.scrollTo(0,0)}),[]),Object(r.useEffect)((function(){re()}),[c]),void 0===t.body||t.id!==o)return a.a.createElement("div",{style:{textAlign:"center"}},a.a.createElement(Le,null));var l=t.url,u=t.title,m=t.author,p=t.created,b=t.body,h=t.media,g=t.permalink,E=rn(b,l,h),v=Object(ae.a)(new Date,1e3*p),S=l||"";S.length>40&&(S=S.substr(0,40)+"...");return a.a.createElement(Xe,null,a.a.createElement("div",null,a.a.createElement("h2",{dangerouslySetInnerHTML:{__html:u}}),a.a.createElement(en,null,m," | ",v," | ",a.a.createElement("a",{href:l,target:"_blank",rel:"noopener noreferrer"},"Go to URL (",S,")")),a.a.createElement(en,null,a.a.createElement("a",{href:"https://www.reddit.com/".concat(g),target:"_blank",rel:"noopener noreferrer"},"Open on Reddit")),E),0===e.length&&!1===n?a.a.createElement(Le,null):null,n?a.a.createElement("div",null,"No Comments"):null,a.a.createElement(Qe,{comments:e,author:m}),a.a.createElement(tn,{onClick:function(){for(var e=document.querySelector("#commentList"),n=0;n<e.children.length;n++){var t=e.children[n],r=t.getBoundingClientRect();if(!(r.top<1||i&&r.top<41)){t.scrollIntoView(),i&&((document.scrollingElement||document.documentElement).scrollTop-=40);break}}}},a.a.createElement(f.a,null)))};function on(){var e=Object(m.a)(["\n    color: gray;\n\n    :hover {\n        cursor: pointer;\n        color: white;\n    }\n"]);return on=function(){return e},e}var cn=p.a.span(on()),ln=function(e){var n=e.heading,t=e.onReload;return a.a.createElement("h1",{style:{textAlign:"center"}},n," \xa0",a.a.createElement(cn,{onClick:t},"\u21bb"))};function un(){var e=Object(m.a)(["\n    width: 250px;\n    border-right: 1px solid red;\n    height: 100%;\n    position: fixed;\n    overflow: scroll;\n"]);return un=function(){return e},e}var dn=p.a.div(un()),sn=function(){var e=Object(s.d)((function(e){return e.currentPostId}));return a.a.createElement(dn,null,a.a.createElement(I,null),e.length>0?a.a.createElement(P,null):a.a.createElement(M,null),a.a.createElement(C,null))},mn=function(e){var n=e.location,t=e.history,o=Object(s.c)(),c=Object(r.useState)(0),i=Object(u.a)(c,2),l=i[0],m=i[1],p=Object(s.d)((function(e){return e.currentSort})),b=Object(s.d)((function(e){return e.currentSub})),f=Object(s.d)((function(e){return e.currentPostId})),h=Object(s.d)((function(e){return e.currentSearch})),g=Object(s.d)((function(e){return e.currentSearchSort})),E=Object(s.d)((function(e){return e.currentSearchSub})),v=Object(s.d)((function(e){return e.searchForSubs})),S=Object(d.useMediaQuery)({maxWidth:700}),O=function(e){var n=e.split("/"),t="",r="",a="";return n.length>0&&(t=void 0!==n[1]?n[1]:"",a="comments"===n[2]&&void 0!==n[3]?n[3]:"",r="comments"!==n[2]&&void 0!==n[2]?n[2]:""),{sub:t,newSort:r,postId:a}}(n.pathname),x=O.sub,y=O.newSort,j=O.postId,k=function(e){var n=e.match(/search=([a-zA-Z0-9% ]+)/),t=e.match(/searchSort=(relevance|new)/),r=e.match(/searchSub=(true|false)/),a=e.match(/searchForSubs=(true|false)/);return n=null===n?"":n[1],t=null===t?"relevance":t[1],r=null===r||ee(r[1]),a=null!==a&&ee(a[1]),{search:n=n.replace(/%20/g," "),searchSort:t,searchSub:r,searchForSubs:a}}(n.search),_=k.search,w=k.searchSort,T=k.searchSub,C=k.searchForSubs;Object(s.b)((function(){x!==b&&o({type:"SET_SUB",payload:x}),j!==f&&function(e){o({type:"SET_POSTID",payload:e})}(j),y.length>0&&y!==p&&o({type:"SET_SORT",payload:y}),j.length>0||f.length>0||(_!==h&&function(e){o({type:"SET_CURRENT_SEARCH",payload:e})}(_),w!==g&&function(e){o({type:"SET_CURRENT_SEARCH_SORT",payload:e})}(w),T!==E&&function(e){o({type:"SET_CURRENT_SEARCH_SUB",payload:e})}(T),C!==v&&function(e){o({type:"SET_SEARCH_FOR_SUBS",payload:e})}(C))})),Object(r.useEffect)((function(){S&&o({type:"CLOSE_MENUS"}),0!==b.length&&te()}),[p,b,h,g,E,v]),Object(r.useEffect)((function(){0===f.length&&window.scrollTo(0,l)}),[f]);var M=Object(r.useCallback)((function(e){return function(n){var r=window.pageYOffset||document.documentElement.scrollTop;m((function(e){return r})),t.push(e)}}),[]);if(x!==b||j!==f||y.length>0&&y!==p)return a.a.createElement("div",null);if(0===b.length){var P="",N=localStorage.getItem("subs");return P=(N=N?JSON.parse(N):[]).length>0?N[0]:"Popular",t.push("/".concat(P,"/").concat(p)),a.a.createElement("div",null)}var R=function(){f.length>0?re():te()},L=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(ln,{heading:b,onReload:R}),f.length>0?a.a.createElement(an,null):null,a.a.createElement(Ae,{onClickLink:M}))};return S?a.a.createElement("div",{style:{height:"100%",overflow:"hidden"}},a.a.createElement(J,{onBackClick:function(){t.goBack()}}),a.a.createElement("div",{style:{marginTop:"50px"}}),L()):a.a.createElement("div",{style:{display:"flex",height:"100%"}},a.a.createElement("div",null,a.a.createElement(sn,null)),a.a.createElement("div",{style:{width:"calc(100% - 250px)",height:"100%",overflow:"scroll",marginLeft:"250px",position:"relative"},id:"mainPage"},L()))},pn=function(){return a.a.createElement(i.a,null,a.a.createElement(l.a,{path:"/",component:mn}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(s.a,{store:Y},a.a.createElement(pn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[39,1,2]]]);
//# sourceMappingURL=main.2c6ee1a3.chunk.js.map