{"version":3,"sources":["components/ButtonGroup.js","components/ButtonList.js","components/Input.js","components/Button.js","components/SideButton.js","components/SubList.js","components/SortMenu.js","components/CommentSortMenu.js","components/Checkbox.js","components/SearchMenu.js","components/TopMenu.js","redux/reducers.js","redux/store.js","functions/useful.js","components/PostLink.js","components/LoadingSpinner.js","components/PostList.js","components/Comment.js","components/CommentList.js","components/Post.js","components/Header.js","components/SideMenu.js","MainPage.js","App.js","serviceWorker.js","index.js"],"names":["ButtonGroup","styled","div","ButtonList","Input","input","Button","button","props","selected","SideButton","Icon","checkIfSubbed","subs","currentSub","length","includes","SubList","useSelector","state","currentSort","useState","setSubs","editMode","setEditMode","newSub","setNewSub","useEffect","storedSubs","localStorage","getItem","JSON","parse","onDeleteSub","sub","newSubArr","filter","subName","setItem","stringify","addSubToStorage","arr","to","className","onClick","map","key","type","placeholder","onChange","e","target","value","SortMenu","option","style","textTransform","CommentSortMenu","dispatch","useDispatch","commentSort","val","payload","changeCommentSort","display","StyledCheckbox","Checkbox","checked","SearchMenu","history","useHistory","currentSearch","search","setSearch","currentSearchSort","searchSort","setSearchSort","currentSearchSub","searchSub","setSearchSub","onSearch","push","onKeyPress","width","StyledTopMenu","MenuButton","Dropdown","right","TopMenu","onBackClick","searchMenuOpen","subMenuOpen","sortMenuOpen","currentPostId","Fragment","initialState","postDetails","posts","noPosts","noMorePosts","latestPost","comments","noComments","store","createStore","action","data","parseComment","comment","body_html","id","author","permalink","replies","score","parseBodyText","children","text","replace","getMySubs","prepend","join","getPostList","a","loadMore","getState","setLatestPost","setPosts","setNoPosts","setNoMorePosts","url","parsedStr","split","fetch","response","json","error","console","log","batch","newPosts","post","media","oembed","html","created","created_utc","domain","title","body","selftext_html","num_comments","subreddit","stickied","thumbnail","noMore","getComments","setComments","setNoComments","setPostDetails","obj","StyledPostLink","PostThumbnail","PostTextGroup","PostTitle","PostDetails","PostExpand","PostComments","PostBody","React","memo","onClickLink","expanded","setExpanded","undefined","dateString","formatDistanceStrict","Date","showThumbnail","test","bodyContent","dangerouslySetInnerHTML","__html","bodyHasImage","match","src","alt","openBtn","maxWidth","href","rel","marginLeft","prevProps","nextProps","LoadingSpinner","PostList","textAlign","hide","position","top","hasMore","margin","marginBottom","dataLength","next","loader","scrollableTarget","scrollThreshold","StyledComment","CommentClose","span","CommentAuthor","original","CommentFooter","parseBody","newBody","Comment","closed","setClosed","color","StyledCommentList","CommentList","StyledPost","parsePostBody","bodyTag","Post","find","updatePostDetails","window","scrollTo","shortUrl","substr","ReloadButton","Header","heading","onReload","StyledSideMenu","SideMenu","Page","location","scrollPos","setScrollPos","isMobile","useMediaQuery","parts","newSort","postId","parseURL","pathname","searchStr","parseSearch","setCurrentPostId","setCurrentSearch","setCurrentSearchSort","setCurrentSearchSub","useCallback","scrollTop","pageYOffset","document","documentElement","oldVal","redirectSub","getMainPage","height","overflow","goBack","marginTop","App","path","component","Boolean","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.4e9ae96d.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nconst ButtonGroup = styled.div`\n    display: flex;\n\n    & > a {\n        flex-grow: 1;\n    }\n\n    & > a.selected, & > button.selected {\n        background-color: gray;\n    }\n\n    & > label {\n        border-left: 1px solid gray;\n    }\n\n    & > *:last-child {\n        border-left: 1px solid gray;\n    }\n\n    & > *:first-child {\n        border-left: none;\n    }\n`;\n\nexport default ButtonGroup;","import styled from 'styled-components';\n\nconst ButtonList = styled.div`\n    text-align: center;\n    position: relative;\n\n    & *:focus {\n        outline: none;\n    }\n\n    & * {\n        color: white;\n    }\n\n    & a, & label {\n        width: 100%;\n        display: block;\n        padding: 5px;\n        min-height: 29px;\n        border-top: 1px solid gray;\n    }\n\n    & a:hover {\n        background-color: gray;\n    }\n\n    & a.active, & > a.selected {\n        background-color: gray;\n    }\n\n    & > a:last-of-type, & > button:last-of-type {\n        border-bottom: 1px solid gray;\n    }\n\n    & > div:last-child > * {\n        border-bottom: 1px solid gray;\n    }\n\n    @media screen and (max-device-width: 600px){\n        & div:last-child > * {\n            border-bottom: none;\n        }   \n    }\n`;\n\nexport default ButtonList;","import styled from 'styled-components';\n\nconst Input = styled.input`\n    cursor: text;\n    padding: 5px 10px;\n    flex-grow: 1;\n    width: 100%;\n    margin: 0px;\n    background-color: black;\n    border: none;\n    font-size: 1em;\n    text-align: center;\n    border-top: 1px solid gray;\n    border-radius: 0px;\n\n    &[type=\"checkbox\"] {\n        -webkit-appearance:none;\n        appearance: none;\n        width:30px;\n        height:30px;\n        background:white;\n        border-radius:0px;\n        border:1px solid gray;\n        border-right: none;\n        border-left: none;\n\n        :checked {\n            background-color: green;\n        }\n\n        :hover {\n            cursor: pointer;\n        }\n    }\n`;\n\nexport default Input;","import styled from 'styled-components';\n\nconst Button = styled.button`\n    background-color: black;\n    border: none;\n    text-align: center;\n    padding: 5px;\n    font-size: 1em;\n    width: 100%;\n    margin: 0px;\n    border-top: 1px solid gray;\n\n    ${props => props.selected ? 'background-color: gray;' : ''};\n\n    &:hover {\n        cursor: pointer;\n        background-color: gray;\n    }\n`;\n\nexport default Button;","import styled from 'styled-components';\nimport Button from './Button';\n\nconst SideButton = styled(Button)`\n    border-left: 1px solid gray;\n    min-width: 60px;\n    width: auto;\n`;\n\nexport default SideButton;","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\nimport { FaEdit, FaTrashAlt } from 'react-icons/fa';\nimport { useSelector } from 'react-redux';\n\nimport ButtonGroup from './ButtonGroup';\nimport ButtonList from './ButtonList';\nimport Input from './Input';\nimport Button from './Button';\nimport SideButton from './SideButton';\n\nconst Icon = styled.div`\n    padding: 5px;\n    font-size: 1.3em;\n    position: absolute;\n    right: 10px;\n    top: -5px;\n\n    :hover {\n        cursor: pointer;\n    }\n`;\n\nconst SubList = () => {\n    const currentSub = useSelector(state => state.currentSub);\n    const currentSort = useSelector(state => state.currentSort);\n\n    const [subs, setSubs] = useState([]);\n    const [editMode, setEditMode] = useState(false);\n    const [newSub, setNewSub] = useState('');\n\n    useEffect(() => {\n        let storedSubs = localStorage.getItem('subs');\n        storedSubs = storedSubs ? JSON.parse(storedSubs) : [];\n        if (storedSubs.length === 0) setEditMode(true);\n        setSubs(storedSubs);\n    }, []);\n\n    const onToggleEdit = () => {\n        setEditMode(!editMode);\n    }\n\n    const onChangeNewSub = (e) => {\n        setNewSub(e.target.value);\n    }\n\n    const onAddNewSub = () => {\n        if (newSub.length === 0) return;\n        addSubToStorage(subs, newSub);\n    }\n\n    const onDeleteSub = (sub) => () => {\n        let newSubArr = subs.filter(subName => subName !== sub);\n        setSubs(newSubArr);\n        localStorage.setItem('subs', JSON.stringify(newSubArr));\n    }\n\n    const addCurrentSub = () => {\n        addSubToStorage(subs, currentSub);\n    }\n\n    const addSubToStorage = (arr, sub) => {\n        let newSubArr = [...arr, sub];  \n        setSubs(newSubArr);\n        setNewSub('');\n        localStorage.setItem('subs', JSON.stringify(newSubArr));\n    }\n\n    return (\n        <ButtonList>\n            <h3>General</h3>\n            <NavLink to={`/My Subreddits/${currentSort}`} className={'My Subreddits' === currentSub ? 'selected' : ''}>My Subreddits</NavLink>\n            <NavLink to={`/Popular/${currentSort}`} className={'Popular' === currentSub ? 'selected' : ''}>Popular</NavLink>\n            <NavLink to={`/All/${currentSort}`} className={'All' === currentSub ? 'selected' : ''}>All</NavLink>\n            <h3>Subs</h3>\n            <Icon onClick={onToggleEdit}><FaEdit/></Icon>\n            {\n                subs.map(sub => {\n                    return (\n                        <ButtonGroup key={'sub-'+sub}>\n                            <NavLink to={`/${sub}/${currentSort}`} className={sub === currentSub ? 'selected' : ''}>{sub}</NavLink>\n                            { editMode ? <SideButton className=\"subBtn\" onClick={onDeleteSub(sub)}><FaTrashAlt/></SideButton> : null }\n                        </ButtonGroup>\n                    )\n                })\n            }\n            {\n                editMode ? (\n                    <ButtonGroup>\n                        <Input type=\"text\" placeholder=\"New Sub\" onChange={onChangeNewSub} value={newSub}/>\n                        <SideButton onClick={onAddNewSub}>Add</SideButton>\n                    </ButtonGroup>\n                ) : null\n            }\n            {\n                !checkIfSubbed(subs, currentSub) ? <Button onClick={addCurrentSub}>Add Current Sub</Button> : null\n            }\n        </ButtonList>\n    );\n}\n\nconst checkIfSubbed = (subs, currentSub) => {\n    if (currentSub.length === 0) return true;\n    if (currentSub === 'Popular') return true;\n    if (currentSub === 'All') return true;\n    if (currentSub === 'My Subreddits') return true;\n    if (subs.includes(currentSub)) return true;\n    return false;\n}\n\nexport default SubList;","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nimport ButtonGroup from './ButtonGroup';\nimport ButtonList from './ButtonList';\n\nconst SortMenu = () => {\n    const currentSub = useSelector(state => state.currentSub);\n    const currentSort = useSelector(state => state.currentSort);\n\n    let sortOptions = ['hot', 'new', 'rising', 'controversial', 'top'];\n\n    return (\n        <ButtonList>\n            <h3>Sort Posts</h3>\n            {\n                sortOptions.map(option => {\n                    return (\n                        <ButtonGroup key={'sort-'+option}>\n                            <NavLink to={`/${currentSub}/${option}`} className={option === currentSort ? 'selected' : ''} style={{textTransform: 'capitalize'}}>{option}</NavLink>\n                        </ButtonGroup>\n                    );\n                })\n            }\n        </ButtonList>\n    );\n}\n\nexport default SortMenu;","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport ButtonGroup from './ButtonGroup';\nimport ButtonList from './ButtonList';\nimport Button from './Button';\n\nconst CommentSortMenu = () => {\n    const dispatch = useDispatch();\n\n    const commentSort = useSelector(state => state.commentSort);\n    const changeCommentSort = (val) => dispatch({type: 'SET_COMMENT_SORT', payload: val});\n    const closeMenus = () => dispatch({type: 'CLOSE_MENUS'});\n\n    const onClick = (val) => () => {\n        closeMenus();\n        changeCommentSort(val);\n    }\n\n    let sortOptions = [\n        {display: 'Best', value: 'confidence'}, \n        {display: 'New', value: 'new'}, \n        {display: 'Top', value: 'top'}, \n        {display: 'Controversial', value: 'controversial'}, \n        {display: 'Q&A', value: 'qa'}\n    ];\n\n    return (\n        <ButtonList>\n            <h3>Sort Comments</h3>\n            {\n                sortOptions.map(option => {\n                    return (\n                        <ButtonGroup key={'commentSort-'+option.value}>\n                            <Button className={option.value === commentSort ? 'selected' : ''} onClick={onClick(option.value)}>{option.display}</Button>\n                        </ButtonGroup>\n                    );\n                })\n            }\n        </ButtonList>\n    );\n}\n\nexport default CommentSortMenu;","import React from 'react';\nimport styled from 'styled-components';\nimport { MdCheckBoxOutlineBlank, MdCheckBox } from 'react-icons/md';\n\nconst StyledCheckbox = styled.div`\n    display: inline-block;\n    font-size: 1.5em;\n    border-top: 1px solid gray;\n\n    & > svg {\n        position: relative;\n        top: 2px;\n    }\n\n    :hover {\n        cursor: pointer;\n    }\n`;\n\nconst Checkbox = ({checked, onClick}) => {\n    return (\n        <StyledCheckbox onClick={onClick}>\n            { checked ? <MdCheckBox/> : <MdCheckBoxOutlineBlank/> }\n        </StyledCheckbox>\n    );\n}\n\nexport default Checkbox;","import React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n\nimport ButtonGroup from './ButtonGroup';\nimport ButtonList from './ButtonList';\nimport Input from './Input';\nimport Button from './Button';\nimport SideButton from './SideButton';\nimport Checkbox from './Checkbox';\n\nconst SearchMenu = () => {    \n    const dispatch = useDispatch();\n    const history = useHistory();\n\n    const closeMenus = () => dispatch({type: 'CLOSE_MENUS'});\n\n    const currentSub = useSelector(state => state.currentSub);\n    const currentSort = useSelector(state => state.currentSort);\n\n    const currentSearch = useSelector(state => state.currentSearch);    \n    const [search, setSearch] = useState(currentSearch);\n    const onChangeSearch = (e) => setSearch(e.target.value);\n\n    const currentSearchSort = useSelector(state => state.currentSearchSort);\n    const [searchSort, setSearchSort] = useState(currentSearchSort);\n    const onClickRelevant = () => setSearchSort('relevance');\n    const onClickNew = () => setSearchSort('new');\n\n    const currentSearchSub = useSelector(state => state.currentSearchSub);\n    const [searchSub, setSearchSub] = useState(currentSearchSub);\n    const toggleThisSub = () => setSearchSub(!searchSub);\n\n    const onSearch = () => {\n        closeMenus();\n        history.push(`/${currentSub}/${currentSort}?search=${search}&searchSort=${searchSort}&searchSub=${searchSub}`);\n    }\n\n    const onEnter = (e) => {\n        if (e.key === 'Enter') {\n            onSearch();\n        }\n    }\n\n    const onClearSearch = (getNewPosts=true) => {\n        if (search.length === 0) return; //if there's nothing to clear, don't do anything\n        setSearch('');\n        setSearchSub(true);\n        setSearchSort('relevance');\n        history.push(`/${currentSub}/${currentSort}`);\n    }\n\n    return (\n        <ButtonList>\n            <h3>Search</h3>\n            <ButtonGroup>\n                <Input type=\"text\" placeholder=\"Search\" onChange={onChangeSearch} value={search} onKeyPress={onEnter}/>\n                <SideButton onClick={onSearch}>Search</SideButton>\n            </ButtonGroup>\n            <ButtonGroup>\n                <Checkbox checked={searchSub} onClick={toggleThisSub}/>\n                <label style={{width: '100%'}}>This Sub Only</label>\n            </ButtonGroup>\n            <ButtonGroup>\n                <Button selected={searchSort === 'new'} onClick={onClickNew}>New</Button>\n                <Button selected={searchSort === 'relevance'} onClick={onClickRelevant}>Relevant</Button>\n            </ButtonGroup>\n            <Button onClick={onClearSearch}>Clear Search</Button>\n        </ButtonList>\n    );\n}\n\nexport default SearchMenu;","import React from 'react';\nimport styled from 'styled-components';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport SubList from './SubList';\nimport SortMenu from './SortMenu';\nimport CommentSortMenu from './CommentSortMenu';\nimport SearchMenu from './SearchMenu';\n\nconst StyledTopMenu = styled.div`\n    border-bottom: 1px solid red;\n    position: fixed;\n    width: 100%;\n    background-color: black;\n    z-index: 6;\n\n    & > div:last-child,  & > div:nth-last-child(2){\n        float: right;\n        border-right: none;\n        border-left: 1px solid gray;\n    }\n`;\n\nconst MenuButton = styled.div`\n    display: inline-block;\n    padding: 8px;\n    border-right: 1px solid gray;\n    min-width: 50px;\n    text-align: center;\n    background-color: ${props => props.selected ? 'gray' : 'none'};\n`;\n\nconst Dropdown = styled.div`\n    position: fixed;\n    width: 250px;\n    background-color: black;\n    z-index: 5;\n    top: 35px;\n    border-right: 1px solid red;\n    border-bottom: 1px solid red;\n    max-height: calc(100% - 50px);\n    overflow: scroll;\n    ${ props => props.right \n            ? 'right: 0px; border-left: 1px solid red; border-right: none;' \n            : '' };\n`;\n\nconst TopMenu = ({onBackClick}) => {\n    const dispatch = useDispatch();\n\n    const searchMenuOpen = useSelector(state => state.searchMenuOpen);\n    const onClickSearch = () => searchMenuOpen ? dispatch({type: 'CLOSE_SEARCH'}) : dispatch({type: 'OPEN_SEARCH'});\n\n    const subMenuOpen = useSelector(state => state.subMenuOpen);\n    const onClickSubs = () => subMenuOpen ? dispatch({type: 'CLOSE_SUBS'}) : dispatch({type: 'OPEN_SUBS'});\n\n    const sortMenuOpen = useSelector(state => state.sortMenuOpen);\n    const onClickSort = () => sortMenuOpen ? dispatch({type: 'CLOSE_SORT'}) : dispatch({type: 'OPEN_SORT'});\n\n    const currentPostId = useSelector(state => state.currentPostId);\n\n    return (\n        <React.Fragment>\n            <StyledTopMenu>\n                <MenuButton onClick={onClickSubs} selected={subMenuOpen}>Subs</MenuButton>\n                { currentPostId.length > 0 ? <MenuButton onClick={onBackClick}>Back</MenuButton> : null }\n                <MenuButton onClick={onClickSort} selected={sortMenuOpen}>Sort</MenuButton>\n                <MenuButton onClick={onClickSearch} selected={searchMenuOpen}>Search</MenuButton>\n            </StyledTopMenu>\n            { subMenuOpen ? <Dropdown><SubList/></Dropdown> : null }\n            { sortMenuOpen && currentPostId.length === 0 ? <Dropdown right={true}><SortMenu/></Dropdown> : null }\n            { sortMenuOpen && currentPostId.length > 0 ? <Dropdown right={true}><CommentSortMenu/></Dropdown> : null }\n            { searchMenuOpen ? <Dropdown right={true}><SearchMenu/></Dropdown> : null }\n        </React.Fragment>\n    );\n};\n\nexport default TopMenu;","const initialState = {\n    currentSub: '',\n    currentSort: 'hot',\n    currentPostId: '',\n\n    postDetails: {},\n    posts: [],\n    noPosts: false,\n    noMorePosts: false,\n    latestPost: '',\n\n    comments: [],\n    noComments: false,\n    commentSort: 'new',\n\n    sortMenuOpen: false,\n    searchMenuOpen: false,\n    subMenuOpen: false,\n\n    currentSearch: '',\n    currentSearchSort: 'relevance',\n    currentSearchSub: true,\n};\n\nexport const reducer = (state = initialState, action={}) => {\n    const data = action.payload;    \n    switch(action.type){\n        case 'SET_SUB': return {...state, currentSub: data};\n        case 'SET_SORT': return {...state, currentSort: data};\n        case 'SET_POSTID': return {...state, currentPostId: data};\n        case 'SET_POSTS': return {...state, posts: data};\n        case 'SET_POST_DETAILS': return {...state, postDetails: data};\n\n        case 'CLEAR_SEARCH': return {...state, currentSearch: '', currentSearchSort: 'relevance', currentSearchSub: true, searchMenuOpen: false};\n        case 'OPEN_SEARCH': return {...state, searchMenuOpen: true, sortMenuOpen: false, subMenuOpen: false};\n        case 'CLOSE_SEARCH': return {...state, searchMenuOpen: false};\n\n        case 'OPEN_SUBS': return {...state, subMenuOpen: true, sortMenuOpen: false, searchMenuOpen: false};\n        case 'CLOSE_SUBS': return {...state, subMenuOpen: false};\n\n        case 'OPEN_SORT': return {...state, sortMenuOpen: true, subMenuOpen: false, searchMenuOpen: false};\n        case 'CLOSE_SORT': return {...state, sortMenuOpen: false};\n\n        case 'CLOSE_MENUS': return {...state, sortMenuOpen: false, searchMenuOpen: false, subMenuOpen: false};\n\n        case 'SET_CURRENT_SEARCH': return {...state, currentSearch: data};\n        case 'SET_CURRENT_SEARCH_SORT': return {...state, currentSearchSort: data};\n        case 'SET_CURRENT_SEARCH_SUB': return {...state, currentSearchSub: data};\n\n        case 'SET_NO_POSTS': return {...state, noPosts: data};\n        case 'SET_LATEST_POST': return {...state, latestPost: data};\n        case 'SET_NO_MORE_POSTS': return {...state, noMorePosts: data};\n\n        case 'SET_COMMENTS': return {...state, comments: data};\n        case 'SET_NO_COMMENTS': return {...state, noComments: data};\n        case 'SET_COMMENT_SORT': return {...state, commentSort: data};\n        default: return state;\n    }\n};","import { createStore } from 'redux';\nimport { reducer } from './reducers';\n\nconst store = createStore(reducer);\n\nexport default store;","import store from '../redux/store';\nimport { batch } from 'react-redux';\n\nconst parseComment = (comment) => {\n    let {body_html, id, author, permalink, replies, score} = comment;\n    body_html = parseBodyText(body_html);\n    \n    replies = typeof replies === 'object' ? replies.data.children : [];\n    \n    replies = replies.map(comment => {\n        //console.log(comment);\n        return parseComment(comment.data);\n    });\n    \n    return {body_html, id, author, permalink, replies, score};\n}\n\nconst parseBodyText = (text) => {\n    text ? text = text\n                    .replace(/&lt;/g,'<')\n                    .replace(/&gt;/g,'>')\n                    .replace(/&amp;#39;/g,\"'\")\n                    .replace(/&amp;quot;/g,'\"')\n                    .replace(/&amp;/g,\"&\")\n                    .replace(/&#x200B;/g,' ')\n                        : text = '';\n    return text;\n}\n\nconst parseURL = (url) => {\n    let parts = url.split('/');\n    let sub = '';\n    let newSort = '';\n    let postId = '';\n\n    if (parts.length > 0) {\n        parts[1] !== undefined ? sub = parts[1] : sub = '';\n        parts[2] === 'comments' && parts[3] !== undefined ? postId = parts[3] : postId = '';\n        parts[2] !== 'comments' && parts[2] !== undefined ? newSort = parts[2] : newSort = '';\n    }    \n\n    return {sub, newSort, postId};\n}\n\nconst parseBool = (str) => {\n    return str === 'true' ? true : false;\n}\n\nconst parseSearch = (searchStr) => {\n    let search = searchStr.match(/search=([a-zA-Z0-9 ]+)/);\n    let searchSort = searchStr.match(/searchSort=(relevance|new)/);\n    let searchSub = searchStr.match(/searchSub=(true|false)/);\n    \n    search = search === null ? '' : search[1];\n    searchSort = searchSort === null ? 'relevance' : searchSort[1];\n    searchSub = searchSub === null ? true : parseBool(searchSub[1]);\n    \n    return {search, searchSort, searchSub};\n}\n\nconst getMySubs = (prepend) => {\n    let currentSub = '';\n    let storedSubs = localStorage.getItem('subs');\n    storedSubs = storedSubs ? JSON.parse(storedSubs) : [];\n    currentSub = prepend+storedSubs.join('+');\n    if (storedSubs.length === 0) currentSub = prepend+'All';\n    return currentSub;\n}\n\nconst getPostList = async (loadMore=false) => {\n    const state = store.getState();\n    let { posts, currentSub, currentSort, currentSearch, currentSearchSort, currentSearchSub, latestPost } = state;\n    const setLatestPost = (val) => store.dispatch({type: 'SET_LATEST_POST', payload: val});\n    const setPosts = (val) => store.dispatch({type: 'SET_POSTS', payload: val});\n    const setNoPosts = (val) => store.dispatch({type: 'SET_NO_POSTS', payload: val});\n    const setNoMorePosts = (val) => store.dispatch({type: 'SET_NO_MORE_POSTS', payload: val});\n\n    //if no sub, then don't get anything\n    if (currentSub.length === 0) return;\n\n    if (currentSub.length > 0) currentSub = 'r/'+currentSub;    \n\n    if (!loadMore) {\n        setPosts([]);\n        setNoPosts(false);\n        setNoMorePosts(false);\n    }\n\n    if (currentSub === 'r/My Subreddits') currentSub = getMySubs('r/');\n    \n    try {\n        let url = `https://www.reddit.com/${currentSub}/${currentSort}/.json`;\n        if (loadMore) url += `?after=t3_${latestPost}`;\n\n        if (currentSearch.length > 0) {\n            let parsedStr = currentSearch.split(' ').join('+');\n            url = `https://www.reddit.com/${currentSub}/search.json?q=${parsedStr}${currentSearchSub ? '&restrict_sr=on' : ''}&include_over_18=on&sort=${currentSearchSort}`;\n            if (loadMore) url += `&after=t3_${latestPost}`;\n        }\n\n        if (currentSub.length === 0) url = 'https://www.reddit.com/.json';        \n\n        let response = await fetch(url);\n        let data = await response.json();\n\n        if (data.error){\n            console.log('Getting Post List - Error: ', data.error);\n            if (!loadMore) {\n                batch(() => {\n                    setNoPosts(true);\n                    setPosts([]);\n                });\n            }\n        } else {\n            if (data && data.data && data.data.children){\n                let newPosts = data.data.children.map(post => {\n                    const data = post.data;\n\n                    let media = data.media;\n                    if (media && media.oembed){\n                        media = parseBodyText(media.oembed.html);\n                    } else {\n                        media = '';\n                    }\n                    \n                    return {\n                        created: data.created_utc,\n                        author: data.author,\n                        domain: data.domain,\n                        title: parseBodyText(data.title),\n                        id: data.id,\n                        body: parseBodyText(data.selftext_html),\n                        num_comments: data.num_comments,\n                        score: data.score,\n                        subreddit: data.subreddit,\n                        stickied: data.stickied,\n                        url: data.url,\n                        thumbnail: data.thumbnail, //if no thumbnail - \"self\"\n                        permalink: data.permalink,\n                        media: media\n                    };\n                });\n\n                let noMore = newPosts.length === 0 ? true : false;\n                if (loadMore) newPosts = [...posts, ...newPosts];\n\n                batch(() => {\n                    if (!noMore) setLatestPost(newPosts[newPosts.length-1].id);                                \n                    setPosts(newPosts);\n                    if (noMore) setNoMorePosts(true);\n                    if (noMore && !loadMore) setNoPosts(true);\n                });\n            }\n        }\n    } catch (error) {\n        console.log('Getting Post List - URL Error: ', error);\n        if (!loadMore) {\n            batch(() => {\n                setNoPosts(true);\n                setPosts([]);\n            });\n        }\n    }\n};\n\nconst getComments = async () => {\n    const state = store.getState();\n    let { currentSub, currentPostId, commentSort } = state;\n    const setComments = (val) => store.dispatch({type: 'SET_COMMENTS', payload: val});\n    const setNoComments = (val) => store.dispatch({type: 'SET_NO_COMMENTS', payload: val});\n    const setPostDetails = (val) => store.dispatch({type: 'SET_POST_DETAILS', payload: val});\n\n    if (currentPostId.length === 0) return;\n\n    setComments([]);\n    setNoComments(false);\n    \n    if (currentSub === 'My Subreddits') currentSub = getMySubs();\n\n    let url = `${currentSub}/comments/${currentPostId}/`;\n    \n    try {        \n        let response = await fetch(`https://www.reddit.com/r/${url}.json?sort=${commentSort}`);\n        let data = await response.json();\n        \n        if (data.error){\n            console.log('Getting Comments - Error: ', data.error);\n        } else {\n            let {title, selftext_html, id, url, media, author, created_utc, permalink} = data[0].data.children[0].data;\n\n            let comments = data[1].data.children.map(obj => {\n                return parseComment(obj.data);\n            });\n\n            batch(() => {\n                setPostDetails({id, url, title, author, created:created_utc, body: parseBodyText(selftext_html), media, permalink});\n                setComments(comments);\n                if (comments.length === 0) setNoComments(true);\n            });\n        }\n    } catch (error) {\n        console.log('Getting Comments - URL Error: ', error);\n    }\n};\n\nconst updatePostDetails = () => {\n    const posts = store.getState().posts;\n    const currentPostId = store.getState().currentPostId;\n    const setPostDetails = (val) => store.dispatch({type: 'SET_POST_DETAILS', payload: val});\n\n    let post = undefined;\n    if (currentPostId.length > 0) post = posts.find(post => post.id === currentPostId);\n    if (post === undefined) setPostDetails({});\n    else setPostDetails(post);  \n}\n\nexport {\n    parseComment, \n    parseBodyText,\n    parseURL,\n    parseSearch,\n    getPostList,\n    getComments,\n    updatePostDetails\n}","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\nimport { FaRegComment, FaPlus, FaMinus } from 'react-icons/fa';\nimport { formatDistanceStrict } from 'date-fns';\n\nconst StyledPostLink = styled.div`\n    border: 1px solid ${props => props.stickied ? '#50ec11' : 'red'};\n    padding: 0px 0px 0px 10px;\n    margin: 5px auto;\n    width: 95%;\n    max-width: 1200px;\n    display: flex;\n    position: relative;\n`;\n\nconst PostThumbnail = styled.div`\n    min-width: 70px;\n    max-width: 70px;\n    max-height: 70px;\n    overflow: hidden;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-right: 10px;\n    margin-bottom: 10px;\n    margin-top: 10px;\n\n    & > img {\n        height: 70px;\n        width: auto;\n        margin: auto;\n    }\n`;\n\nconst PostTextGroup = styled.div`\n    display: flex;\n    flex-direction: column; \n    height: 100%;\n    align-content: center;\n\n    & > div {\n        margin-top: auto;\n        margin-bottom: auto;\n    }\n`;\n\nconst PostTitle = styled.div`\n    margin-top: 10px;\n    padding-right: 5px;\n\n    & :hover {\n        cursor: pointer;\n    }\n\n    @media screen and (max-device-width: 600px){\n        font-size: 0.9em;\n    }\n`;\n\nconst PostDetails = styled.div`\n    font-size: 0.9em;\n    color: gray;\n    margin-top: 5px;\n    margin-bottom: 5px;\n\n    & a {\n        color: gray;\n    }\n`;\n\nconst PostExpand = styled.div`\n    display: inline-flex;\n    position: relative;\n    float: right;\n    border-bottom: 1px solid ${props => props.stickied ? '#50ec11' : 'red'};\n    border-left: 1px solid ${props => props.stickied ? '#50ec11' : 'red'};\n    color: gray;\n    width: 32px;\n    height: 32px;\n\n    & > svg {\n        margin: auto;\n    }\n\n    &:hover {\n        cursor: pointer;\n        color: white;\n    }\n`;\n\nconst PostComments = styled.div`\n    font-size: 0.9em;\n    display: inline-block;\n    margin-bottom: 10px;\n    cursor: pointer;\n\n    & > span > svg {\n        position: relative;\n        top: 2px;\n        margin-left: 2px;\n    }\n`;\n\nconst PostBody = styled.div`\n    padding: 5px;\n    overflow: hidden;\n\n    & img {\n        max-width: 95%;\n        max-height: 900px;\n    }\n\n    & iframe {\n        max-width: 100%;\n        margin: auto;\n        display: block;\n    }\n`;\n\nconst PostLink = ({ post, onClickLink, currentSub, currentSort }) => {\n    const [expanded, setExpanded] = useState(false);\n\n    const onToggleExpand = () => {\n        setExpanded(!expanded);\n    }\n\n    if (post === undefined) return <span></span>;\n\n    //get relative time string\n    let dateString = formatDistanceStrict(new Date(), post.created*1000);\n\n    //set whether to show a thumbnail or not\n    let showThumbnail = false;\n    if (/(.jpg|.png|.bmp|.jpeg)/.test(post.thumbnail) === true) showThumbnail = true;\n\n    //make sure any links within the body open in a new tab\n    post.body = post.body.replace(/<a/g, '<a target=\"_blank\" rel=\"noopener noreferrer\"');\n\n    //decide whether to show image preview in body\n    let bodyContent = <PostBody dangerouslySetInnerHTML={{__html: post.body}}></PostBody>;\n    let bodyHasImage = false;\n    if (post.url.match(/.(jpg|png)$/)){\n        bodyContent = (<PostBody><img src={post.url} alt=\"Preview user linked to\" /></PostBody>);\n        bodyHasImage = true;\n    }\n\n    //decide whether to show embeded media\n    if (post.media.length > 0){\n        if (post.body.length > 0) post.media += \"<br/>\"+post.body;\n        bodyContent = <PostBody dangerouslySetInnerHTML={{__html: post.media}}></PostBody>;\n        bodyHasImage = true;\n    }\n\n    //decide whether to show an open button for post body\n    let openBtn = true;\n    if (post.body.length === 0 && bodyHasImage === false) openBtn = false;\n    \n    //check if sticked and add another class\n    let stickied = post.stickied ? true : false;\n\n    // console.log('Rendering Post Link with ID: ', post.id)\n\n    return (\n        <StyledPostLink stickied={stickied}>\n            { showThumbnail ? <PostThumbnail><img src={post.thumbnail} alt=\"Thumbnail\"/></PostThumbnail> : null }\n            <div style={ showThumbnail ? {width: '100%', maxWidth: 'calc(100% - 80px)'} : {width: '100%', maxWidth: '100%'}}>\n                { openBtn ? <PostExpand onClick={onToggleExpand} stickied={stickied}>{ expanded ? <FaMinus/> : <FaPlus/> }</PostExpand> : null }\n                <PostTextGroup>\n                    <div>\n                        <PostTitle><span onClick={onClickLink(`/${currentSub}/comments/${post.id}`)}>{post.title}</span></PostTitle>\n                        <PostDetails>\n                            <NavLink to={`/${post.subreddit}/${currentSort}`}>{post.subreddit}</NavLink> - <span><a href={post.url} target=\"_blank\" rel='noreferrer noopener'>{post.domain}</a></span> - <span>{dateString}</span>\n                        </PostDetails>\n                        { expanded ? bodyContent : null }\n                        <div>\n                            <PostComments><span onClick={onClickLink(`/${currentSub}/comments/${post.id}`)}>{post.num_comments} <FaRegComment/></span></PostComments>\n                            <span style={{marginLeft: '15px'}}><a href={`https://www.reddit.com/${post.permalink}`} target=\"_blank\" rel=\"noreferrer noopener\">Open on Reddit</a></span>\n                        </div>\n                    </div>\n                </PostTextGroup>\n            </div>\n        </StyledPostLink>\n    );\n}\n\nconst areEqual = (prevProps, nextProps) => {    \n    if (prevProps.post.id === nextProps.post.id) return true;\n    return false;\n}\n\nexport default React.memo(PostLink, areEqual);","import styled from 'styled-components';\n\nconst LoadingSpinner = styled.div`\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    border: 3px solid red;\n    border-top: 0px;\n    border-bottom: 0px;\n    margin: auto;\n    margin-top:40px;\n    position: relative;\n    animation-name: rotate;\n    animation-duration: 1s;\n    animation-iteration-count: infinite;\n    animation-timing-function: linear;\n\n    &:after {\n        content:'';\n        display: block;\n        position: absolute;\n        top: 2px;\n        left: 2px;\n        width: 40px;\n        height: 40px;\n        border-radius: 50%;\n        border: 3px solid red;\n        border-left: 0px;\n        border-right: 0px;\n        margin: auto;\n        animation-name: rotate;\n        animation-duration: 0.5s;\n        animation-iteration-count: infinite;\n        animation-timing-function: linear;\n        animation-direction: reverse;\n    }\n\n    &:before {\n        content:'';\n        display: block;\n        position: absolute;\n        top: 10px;\n        left: 4px;\n        width: 30px;\n        height: 30px;\n        border-radius: 50%;\n        border: 3px solid red;\n        border-top: 0px;\n        border-bottom: 0px;\n        margin: auto;\n        animation-name: rotate;\n        animation-duration: 1s;\n        animation-iteration-count: infinite;\n        animation-timing-function: linear;\n    }\n\n    @keyframes rotate {\n        from {\n            transform: rotate(0deg);\n        }\n        \n        to {\n            transform: rotate(360deg);\n        }\n    }\n`;\n\nexport default LoadingSpinner;","import React from 'react';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport { useSelector } from 'react-redux';\n\nimport { getPostList } from '../functions/useful';\n\nimport PostLink from './PostLink';\nimport LoadingSpinner from './LoadingSpinner';\n\nconst PostList = ({onClickLink}) => {\n    const posts = useSelector(state => state.posts);\n    const noPosts = useSelector(state => state.noPosts);\n    const currentSub = useSelector(state => state.currentSub);\n    const currentSort = useSelector(state => state.currentSort);\n    const currentPostId = useSelector(state => state.currentPostId);\n    const noMorePosts = useSelector(state => state.noMorePosts);\n    const loadMorePosts = () => getPostList(true);\n\n    if (noPosts) return <div style={{textAlign:'center'}}>No Posts Found</div>\n    if (posts.length === 0 && currentPostId.length === 0) return <div><LoadingSpinner/></div>;\n\n    let hide = currentPostId.length > 0;\n    let position = hide ? 'absolute' : 'relative';\n    let top = hide ? '-1000000px' : '0px';\n    let right = hide ? '-20000px' : '0px';\n    let hasMore = hide || noMorePosts ? false : true;    \n\n    return (\n        <div style={{margin: 'auto', position: position, top: top, right: right, marginBottom: '20px'}}>\n            <InfiniteScroll\n                dataLength={posts.length} //This is important field to render the next data\n                next={loadMorePosts}\n                hasMore={hasMore} //change to false when don't want to load more or nothing left\n                loader={<div style={{textAlign: 'center', margin: '10px'}}>Loading More...</div>}\n                scrollableTarget={'#mainPage'}\n                scrollThreshold={'500px'}\n            >\n            {\n                posts.map(post => {\n                    return <PostLink key={post.id} post={post} currentSub={currentSub} currentSort={currentSort} onClickLink={onClickLink}/>\n                })\n            }\n            {\n                noMorePosts ? <div style={{textAlign: 'center', margin: '10px'}}>No More Posts</div> : null\n            }\n            </InfiniteScroll>\n        </div>\n    );\n}\n\nexport default PostList;","import React, { useState } from 'react';\nimport styled from 'styled-components';\n\nimport Comments from './CommentList';\n\nconst StyledComment = styled.div`\n    padding: 5px;\n    padding-bottom: 0px;\n    border-left: 1px solid red;\n    border-top: 1px solid red;\n    margin-bottom: 0px;\n\n    & a {\n        color: rgb(0, 225, 255);\n    }\n`;\n\nconst CommentClose = styled.span`\n    :hover {\n        cursor: pointer;\n    }\n`;\n\nconst CommentAuthor = styled.span`\n    ${props => props.original ? `\n        color: #059afe; \n        font-weight: bold;\n    ` : ''};\n`;\n\nconst CommentFooter = styled.div`\n    font-size: 0.8em;\n    margin-bottom: 5px;\n    \n    & > a {\n        color: gray;\n    }\n`;\n\nconst Comment = ({comment, author}) => {  \n    const [closed, setClosed] = useState(false);\n\n    //if there are any replies to this comment, create a new Comments object (will work recursively)\n    let replies = \"\";\n    if (comment.replies.length > 0){\n        replies = <Comments comments={comment.replies} author={author}/>;\n    }\n\n    let body_html = parseBody(comment.body_html);\n\n    const toggleClosed = () => {\n        setClosed(!closed);\n    }\n\n    return (\n        <StyledComment>\n            <CommentClose onClick={toggleClosed}>{ closed ? '[ + ] ' : '[ - ] ' }</CommentClose>\n            <CommentAuthor original={comment.author === author}>{comment.author}</CommentAuthor>\n            <span style={{color: 'gray'}}> | {comment.score}</span>\n            { closed ? null : <div dangerouslySetInnerHTML={{ __html: body_html }}></div> }\n            { closed ? null : <CommentFooter><a href={`https://www.reddit.com/${comment.permalink}`} target=\"_blank\" rel=\"noreferrer noopener\">Permalink</a></CommentFooter> }\n            { closed ? null : replies }\n        </StyledComment>\n    );\n}\n\nconst parseBody = (body) => {    \n    //make sure any links within the body open in a new tab\n    let newBody = body.replace(/<a/g, '<a target=\"_blank\" rel=\"noopener noreferrer\"');\n    \n    //make sure links to reddit are adjusted\n    newBody = newBody.replace(/href=\"\\/u/g, 'href=\"https://www.reddit.com/$1');\n\n    //but links to other reddit subs can be kept on this website\n    newBody = newBody.replace(/target=\"_blank\" rel=\"noopener noreferrer\" href=\"\\/r/g, 'href=\"#');\n\n    return newBody; \n}\n\nexport default Comment;","import React from 'react';\nimport styled from 'styled-components';\n\nimport Comment from './Comment';\n\nconst StyledCommentList = styled.div`\n    margin-top: 10px;\n\n    & > div {\n        margin-bottom: 5px;\n    }\n`;\n\nconst CommentList = ({comments, author}) => {\n    if (comments.length === 0) return null;\n\n    return (\n        <StyledCommentList>\n            {\n                comments.map(comment => {\n                    return <Comment key={comment.id} comment={comment} author={author}/>\n                })\n            }\n        </StyledCommentList>\n    );\n}\n\nexport default CommentList;","import React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport { formatDistanceStrict } from 'date-fns';\nimport { useSelector } from 'react-redux';\n\nimport CommentList from './CommentList';\nimport LoadingSpinner from './LoadingSpinner';\n\nimport { parseBodyText, updatePostDetails, getComments } from '../functions/useful';\n\nconst StyledPost = styled.div`\n    background-color: black;\n    padding: 20px;\n    width: 100%;\n    max-width: 1200px;\n    margin: auto;\n\n    & h1 {\n        text-align: left;\n        margin-bottom: 10px;\n    }\n`;\n\nconst PostDetails = styled.div`\n    color: gray;\n    text-align: left;\n    margin-bottom: 5px;\n\n    & a {\n        color: gray;\n    }\n`;\n\nconst PostBody = styled.div`\n    border-bottom: 1px solid gray;\n    margin-bottom: 5px;\n    padding-bottom: 10px;\n\n    & > img {\n        max-width: 100%;\n        margin-top: 10px;\n    }\n    \n    & iframe {\n        max-width: 100%;\n        margin: auto;\n        display: block;\n    }\n\n    & a {\n     color: rgb(0, 225, 255);\n    }\n\n    & h1 {\n        font-size: 1.2em;\n    }\n\n    & h2 {\n        font-size: 1.1em;\n    }\n\n    & h3 {\n        font-size: 1em;\n    }\n`;\n\nconst Post = () => {\n    const comments = useSelector(state => state.comments);\n    const noComments = useSelector(state => state.noComments);\n    let post = useSelector(state => state.postDetails);\n    const currentPostId = useSelector(state => state.currentPostId);\n    const commentSort = useSelector(state => state.commentSort);\n\n    useEffect(() => {\n        //get quick details from posts array\n        updatePostDetails();\n        //query server for more details and comments\n        getComments();\n        window.scrollTo(0,0); \n    }, []);\n\n    useEffect(() => {\n        //if comment sort method is changed, then get comments again using new sorting\n        getComments();\n    }, [commentSort]);\n\n    if (post.body === undefined || post.id !== currentPostId) {\n        return <div style={{textAlign: 'center'}}><LoadingSpinner/></div>;\n    }\n\n    let {url, title, author, created, body, media, permalink} = post;  \n\n    //get parsed body tag\n    let bodyTag = parsePostBody(body, url, media);  \n\n    //get relative time string\n    let dateString = formatDistanceStrict(new Date(), created*1000);\n\n    //if URL is too long, make shorter\n    let shortUrl = url || '';\n    if (shortUrl.length > 40) shortUrl = shortUrl.substr(0,40) + '...';\n\n    return (\n        <StyledPost>\n            <div>\n                <h2 dangerouslySetInnerHTML={{ __html: title}}></h2>\n                <PostDetails>{author} | {dateString} | <a href={url} target=\"_blank\" rel=\"noopener noreferrer\">Go to URL ({shortUrl})</a></PostDetails>\n                <PostDetails><a href={`https://www.reddit.com/${permalink}`} target=\"_blank\" rel=\"noopener noreferrer\">Open on Reddit</a></PostDetails>\n                { bodyTag }\n            </div>\n            { comments.length === 0 && noComments === false ? <LoadingSpinner/> : null }\n            { noComments ? <div>No Comments</div> : null }\n            <CommentList comments={comments} author={author}/>\n        </StyledPost>\n    );\n}\n\nconst parsePostBody = (body, url, media) => {\n    //make sure any links within the body open in a new tab\n    body = body.replace(/<a/g, '<a target=\"_blank\" rel=\"noopener noreferrer\"');\n    \n    //make sure links to reddit users are adjusted\n    body = body.replace(/href=\"\\/u/g, 'href=\"https://www.reddit.com/$1');\n    \n    //but links to other reddit subs can be kept on this website\n    body = body.replace(/target=\"_blank\" rel=\"noopener noreferrer\" href=\"\\/r/g, 'href=\"#');    \n    \n    //check for image link to url and replace body with image if so\n    let bodyTag = <PostBody dangerouslySetInnerHTML={{ __html: body }} className=\"postDivBody\"></PostBody>;\n    if (/.(png|jpg|jpeg|bmp)$/.test(url)){\n        bodyTag = <PostBody><img src={url} alt=\"Preview of content\"/></PostBody>;\n    }\n\n    //check for media embed and replace body with this\n    if (media && media.oembed){\n        media = parseBodyText(media.oembed.html);\n        if (body.length > 0) media += '<br/>'+body;\n        bodyTag = <PostBody dangerouslySetInnerHTML={{ __html: media }} className=\"postDivBody\"></PostBody>;\n    } else {\n        media = '';\n    }\n\n    return bodyTag;\n}\n\nexport default Post;","import React from 'react';\nimport styled from 'styled-components';\n\nconst ReloadButton = styled.span`\n    color: gray;\n\n    :hover {\n        cursor: pointer;\n        color: white;\n    }\n`;\n\nconst Header = ({heading, onReload}) => {\n    return (\n        <h1 style={{textAlign: 'center'}}>{heading} &nbsp;<ReloadButton onClick={onReload}>&#8635;</ReloadButton></h1>\n    );\n};\n\nexport default Header;","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport styled from 'styled-components';\n\nimport SortMenu from './SortMenu';\nimport CommentSortMenu from './CommentSortMenu';\nimport SubList from './SubList';\nimport SearchMenu from './SearchMenu';\n\nconst StyledSideMenu = styled.div`\n    width: 250px;\n    border-right: 1px solid red;\n    height: 100%;\n    position: fixed;\n    overflow: scroll;\n`;\n\nconst SideMenu = () => {\n    const currentPostId = useSelector(state => state.currentPostId);\n\n    return (\n        <StyledSideMenu>\n            <SearchMenu/>\n            { currentPostId.length > 0 ? <CommentSortMenu/> : <SortMenu/> }\n            <SubList/>\n        </StyledSideMenu>\n    );\n}\n\nexport default SideMenu;","import React, { useEffect, useState, useCallback } from \"react\";\nimport { useMediaQuery } from 'react-responsive';\nimport { useSelector, useDispatch, batch } from 'react-redux';\n\nimport TopMenu from './components/TopMenu';\nimport PostList from './components/PostList';\nimport Post from './components/Post';\nimport Header from './components/Header';\nimport SideMenu from './components/SideMenu';\n\nimport { getPostList, parseURL, parseSearch } from './functions/useful';\n\nconst Page = ({location, history}) => {\n    const dispatch = useDispatch();\n    const [scrollPos, setScrollPos] = useState(0);\n\n    const currentSort = useSelector(state => state.currentSort);\n    const setCurrentSort = (sort) => dispatch({type: 'SET_SORT', payload: sort});\n\n    const setPosts = (posts) => dispatch({type: 'SET_POSTS', payload: posts});\n    \n    const closeMenus = () => dispatch({type: 'CLOSE_MENUS'});\n\n    const currentSub = useSelector(state => state.currentSub);\n    const setCurrentSub = (val) => dispatch({type: 'SET_SUB', payload: val});\n\n    const currentPostId = useSelector(state => state.currentPostId);\n    const setCurrentPostId = (val) => dispatch({type: 'SET_POSTID', payload: val});\n\n    const currentSearch = useSelector(state => state.currentSearch);    \n    const setCurrentSearch = (val) => dispatch({type: 'SET_CURRENT_SEARCH', payload: val});\n\n    const currentSearchSort = useSelector(state => state.currentSearchSort);\n    const setCurrentSearchSort = (val) => dispatch({type: 'SET_CURRENT_SEARCH_SORT', payload: val});\n\n    const currentSearchSub = useSelector(state => state.currentSearchSub);\n    const setCurrentSearchSub = (val) => dispatch({type: 'SET_CURRENT_SEARCH_SUB', payload: val});\n\n    const isMobile = useMediaQuery({ maxWidth: 700 });\n\n    let {sub, newSort, postId} = parseURL(location.pathname); \n    let {search, searchSort, searchSub} = parseSearch(location.search);    \n\n    batch(() => {\n        if (sub !== currentSub) setCurrentSub(sub);\n        if (postId !== currentPostId) setCurrentPostId(postId);\n        if (newSort.length > 0 && newSort !== currentSort) setCurrentSort(newSort);\n\n        if (postId.length > 0 || currentPostId.length > 0) return;\n        if (search !== currentSearch) setCurrentSearch(search);\n        if (searchSort !== currentSearchSort) setCurrentSearchSort(searchSort);\n        if (searchSub !== currentSearchSub) setCurrentSearchSub(searchSub);\n    });\n\n    //when changing sub or sort method, get post list and clear search\n    useEffect(() => {   \n        if (isMobile) closeMenus(); \n        if (currentSub.length === 0) return;\n        getPostList();\n        \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [currentSort, currentSub, currentSearch, currentSearchSort, currentSearchSub]);\n\n    //return to scroll positiong before going to a post\n    useEffect(() => {\n        if (currentPostId.length === 0) {\n            window.scrollTo(0,scrollPos);\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [currentPostId]);\n\n    const onClickLink = useCallback((url) => (e) => {\n        let scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n        setScrollPos(oldVal => scrollTop);\n        history.push(url);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    if (sub !== currentSub || postId !== currentPostId || (newSort.length > 0 && newSort !== currentSort)) return <div></div>;\n\n    if (currentSub.length === 0) {\n        let redirectSub = '';\n        let storedSubs = localStorage.getItem('subs');\n        storedSubs = storedSubs ? JSON.parse(storedSubs) : [];\n        if (storedSubs.length > 0) redirectSub = storedSubs[0];\n        else redirectSub = 'Popular';\n        history.push(`/${redirectSub}/${currentSort}`);\n        return <div></div>;\n    }\n\n    const onReload = () => {\n        setPosts([]);\n        getPostList();\n    }\n\n    const onBackClick = () => {\n        history.goBack();\n    }\n\n    const getMainPage = () => {\n        return (\n            <React.Fragment>\n                <Header heading={currentSub} onReload={onReload}/>\n                { currentPostId.length > 0 ? <Post/> : null }\n                <PostList onClickLink={onClickLink}/>\n            </React.Fragment>\n        );\n    }\n\n    if (isMobile) {\n        return (\n            <div style={{height: '100%', overflow: 'hidden'}}>\n                <TopMenu onBackClick={onBackClick}/>\n                <div style={{marginTop: '50px'}}></div>\n                { getMainPage() }\n            </div>\n        );\n    } else {\n        return (\n            <div style={{display: 'flex', height: '100%'}}>\n                <div>\n                    <SideMenu/>\n                </div>\n                <div style={{width: 'calc(100% - 250px)', height: '100%', overflow: 'scroll', marginLeft: '250px', position: 'relative'}} id='mainPage'>\n                    { getMainPage() }\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Page;","import React from \"react\";\nimport { HashRouter as Router, Route } from \"react-router-dom\";\n\nimport Page from './MainPage';\n\nconst App = () => {\n    return (\n        <Router>\n            <Route path=\"/\" component={Page}/>\n        </Router>\n    );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\n\nReactDOM.render(\n    <Provider store={store}>\n         <App />\n    </Provider>\n        , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}